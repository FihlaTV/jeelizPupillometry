 /**
 * Jeeliz Pupillometry - https://github.com/jeeliz/jeelizPupillometry
 *
 * Copyright 2018 Jeeliz ( https://jeeliz.com )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

window['JEEPUPILAPI']=(function(){"use strict";function la(a,b,d){return a*(1-d)+b*d}function pa(a,b){var d=new XMLHttpRequest;d.open("GET",a,!0);d.withCredentials=!1;d.onreadystatechange=function(){4===d.readyState&&200===d.status&&b(d.responseText)};d.send()}function sa(a,b,d){return Math.min(Math.max((d-a)/(b-a),0),1)}function ya(a,b){var d=b%8;return a[(b-d)/8]>>7-d&1}
function Aa(a){var b=JSON.parse(a);a=b.ne;var d=b.nf,f=b.n,g="undefined"===typeof btoa?Buffer.from(b.data,"base64").toString("latin1"):atob(b.data),e=g.length,l;b=new Uint8Array(e);for(l=0;l<e;++l)b[l]=g.charCodeAt(l);g=new Float32Array(f);e=new Float32Array(d);l=a+d+1;var p,m;for(p=0;p<f;++p){var n=l*p;var u=0===ya(b,n)?1:-1;var y=n+1;var v=1,w=0;for(m=y+a-1;m>=y;--m)w+=v*ya(b,m),v*=2;m=w;y=b;v=n+1+a;w=e;var A=0,z=w.length;for(n=v;n<v+z;++n)w[A]=ya(y,n),++A;for(n=y=0;n<d;++n)y+=e[n]*Math.pow(2,-n-
1);u=0===y&&0===m?0:u*(1+y)*Math.pow(2,1+m-Math.pow(2,a-1));g[p]=u}return g}
var h=function(){function a(a,b){a=c.createShader(a);c.shaderSource(a,b);c.compileShader(a);return c.getShaderParameter(a,c.COMPILE_STATUS)?a:!1}function b(b,d,e){b=a(c.VERTEX_SHADER,b,e+" VERTEX");d=a(c.FRAGMENT_SHADER,d,e+" FRAGMENT");e=c.createProgram();c.attachShader(e,b);c.attachShader(e,d);c.linkProgram(e);return e}function d(a){void 0===a.W&&(a.W="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===a.fa&&(a.fa=["a0"]);
void 0===a.Y&&(a.Y=[2]);void 0===a.precision&&(c.getShaderPrecisionFormat&&10<=c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT).precision?a.precision="mediump":a.precision="highp");void 0===a.G&&(a.G=[]);a.id=l++;void 0!==a.Zc&&a.Zc.forEach(function(b,d){a.c=a.c.replace(b,a.Pb[d])});a.eb=0;a.Y.forEach(function(b){a.eb+=4*b});a.Ia=b(a.W,"precision "+a.precision+" float;\n"+a.c,a.name);a.v={};a.g.forEach(function(b){a.v[b]=c.getUniformLocation(a.Ia,b)});a.attributes={};a.sa=[];a.fa.forEach(function(b){var d=
c.getAttribLocation(a.Ia,b);a.attributes[b]=d;a.sa.push(d)});if(a.h){c.useProgram(a.Ia);e=a;g=a.id;for(var d in a.h)c.uniform1i(a.v[d],a.h[d])}a.Qd=!0}function f(a){Ba.fd(C);g!==a.id&&(C.ea(),g=a.id,e=a,c.useProgram(a.Ia),a.sa.forEach(function(a){0!==a&&c.enableVertexAttribArray(a)}))}var g=-1,e=!1,l=0,p=!1,m=["u0"],n=["u1"],u={u0:0},y={u1:0},v={u0:0,u2:1},w={u3:0},A={u4:0,u5:1},z={s0:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",g:m,h:u},s1:{name:"_",
c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",g:m,h:u,precision:"lowp"},s2:{name:"_",c:"uniform sampler2D u0,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u0,vv0);gl_FragColor=a*b;}",g:["u0","u2"],h:v},s3:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a.r*f;}",g:m,h:u},s4:{name:"_",c:"uniform sampler2D u0,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u0,vv0);gl_FragColor=a.a*b.r*f;}",
g:["u0","mask"],h:v},s5:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vec2(1.-vv0.x,vv0.y));}",g:m,h:u},s6:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vec2(vv0.x,1.-vv0.y));}",g:m,h:u},s7:{name:"_",c:"uniform sampler2D u1;uniform float u6;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*u6;}",g:["u1","u6"],h:y},s8:{name:"_",c:"uniform sampler2D u1;uniform float u6;varying vec2 vv0;const vec4 g=vec4(.25,.25,.25,.25),e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=dot(a*u6,g);gl_FragColor=b*e;}",
g:["u1","u6"],h:y},s9:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u0,vv0));gl_FragColor=a*e;}",g:m,h:u},s10:{name:"_",c:"uniform sampler2D u0,u7;uniform float u8;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0),b=texture2D(u7,vv0);gl_FragColor=mix(b,a,u8*f);}",g:["u0","u7","u8"],h:{u0:0,u7:1}},s11:{name:"_",c:"uniform sampler2D u0;uniform vec2 u9;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u0,vv0+u9)+texture2D(u0,vv0+u9*vec2(1.,-1.))+texture2D(u0,vv0+u9*vec2(-1.,-1.))+texture2D(u0,vv0+u9*vec2(-1.,1.)));}",
g:["u0","u9"],h:u},s12:{name:"_",c:"uniform sampler2D u0;uniform vec4 u10;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 k(float a){if(a==0.)return vec4(0.,0.,0.,0.);float l=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),m=c+127.,b=(a/exp2(c)-1.)*8388608.,d=m/2.,n=fract(d)*2.,o=floor(d),p=e(b,0.,8.),q=e(b,8.,16.),r=n*128.+e(b,16.,23.),j=l+o;return vec4(p,q,r,j)/255.;}void main(){float a=dot(texture2D(u0,vv0),u10);gl_FragColor=k(a);}",
g:["u0","u10"],h:u},s13:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",g:n,h:y,G:n,I:!0},s14:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=max(e,a);}",g:n,h:y,G:n,I:!0},s15:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=mix(exp(-abs(a))-e,a,step(0.,a));}",
g:n,h:y,G:n,I:!0},s16:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=exp(-abs(a))-e;gl_FragColor=mix(.1*b,a,step(0.,a));}",g:n,h:y,G:n,I:!0},s17:{name:"_",c:"uniform sampler2D u1,u8,u11;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),c=texture2D(u8,vv0),d=texture2D(u11,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",g:["u1","u8","u11"],h:{u1:0,u8:1,u11:2},G:n,I:!0},s18:{name:"_",
c:"uniform sampler2D u1;const float e=3.141593;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=atan(e*a)/e;gl_FragColor=b;}",g:n,h:y,G:n,I:!0},s19:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(.5,.5,.5,.5);void main(){vec4 a=texture2D(u1,vv0),b=log(e+a);gl_FragColor=b;}",g:n,h:y,G:n,I:!0},s20:{name:"_",c:"uniform sampler2D u1;uniform float gain;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=exp(a);}",g:["u1","u12"],h:y,G:n,I:!0},
s21:{name:"_",c:"uniform sampler2D u1,u13;uniform float u14;const vec2 f=vec2(.5,.5);const float g=1e-5;const vec4 h=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u13,f);float b=u14*u14;vec4 c=max(b*a,g*h);gl_FragColor=texture2D(u1,vv0)/c;}",g:["u1","u15","u14"],h:{u1:0,u15:1}},s22:{name:"_",c:"uniform sampler2D u0;uniform vec2 u16;varying vec2 vv0;void main(){float a=u16.x*u16.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u16.y),g=floor(u16.x*fract(b*u16.y)),f=(g*u16.y+d)/a;gl_FragColor=texture2D(u0,f+c/a);}",
g:["u0","u16"],h:u},s23:{name:"_",c:"uniform sampler2D u17,u5,u18;varying vec2 vv0;void main(){vec4 a=texture2D(u18,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u17,b),e=texture2D(u5,c);gl_FragColor=d*e;}",g:["u17","u5","u18"],G:["u17","u5","u18"],h:{u5:0,u17:1,u18:2},I:!0},s24:{name:"_",c:"uniform float u19;uniform sampler2D u17,u5;varying vec2 vv0;void main(){vec2 a=fract(vv0*u19);vec4 b=texture2D(u17,vv0),c=texture2D(u5,a);gl_FragColor=b*c;}",g:["u5","u17","u19"],G:["u5","u17"],h:{u5:0,u17:1},I:!0},
s25:{name:"_",c:"uniform float u19;uniform sampler2D u17,u5,u20,u21,u22,u23;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 i=vv0*u19,m=floor(i),c=i-m;vec4 n=texture2D(u17,vv0),d=texture2D(u5,c),a=texture2D(u23,vv0);a=a*255.;vec4 o=texture2D(u20,c),p=texture2D(u21,c),q=texture2D(u22,c),j=step(-g,-a),b=e-j,k=b*step(-e-g,-a);b*=e-k;vec4 h=b*step(-2.*e-g,-a);b*=e-h;vec4 l=b;d=j*d+k*o+h*p+l*q,gl_FragColor=n*d;}",g:"u17 u5 u19 u23 u20 u21 u22".split(" "),h:{u5:0,
u17:1,u23:3,u20:4,u21:5,u22:6},I:!0},s26:{name:"_",c:"uniform sampler2D u17,u5,u24;uniform float u19,u25,u26,u27;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u25*vv0),g=u25*vv0-a;float b=u19/u25;vec2 c=floor(g*b),d=g*b-c,h=(a+d)/u25;float l=u25*u27/u19;vec2 m=l*c,i=(m+d*u26)/u27,e=step(i,j);vec4 n=texture2D(u17,h),o=texture2D(u5,i),p=n*o*e.x*e.y,k=texture2D(u24,h);gl_FragColor=p*u26*u26+k;}",g:"u17 u5 u19 u25 u26 u27 u24".split(" "),G:["u17","u5","u24"],h:{u5:0,u17:1,u24:2},
I:!0},s27:{name:"_",c:"uniform sampler2D u17,u5;varying vec2 vv0;void main(){vec4 a=texture2D(u17,vv0),b=texture2D(u5,vv0);gl_FragColor=a*b;}",g:["u17","u5"],G:["u17","u5"],h:{u5:0,u17:1},I:!0},s28:{name:"_",c:"uniform sampler2D u0,u24;uniform float u28;varying vec2 vv0;void main(){gl_FragColor=texture2D(u24,vv0)+u28*texture2D(u0,vv0);}",g:["u0","u24","u28"],G:["u0","u24"],I:!0,h:{u0:0,u24:1}},s29:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0;const vec4 g=vec4(1.,1.,1.,1.),e=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=dot(a,e)*g;}",
g:m,h:u,precision:"lowp"},s30:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0,u2;uniform float u29;const vec4 g=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u0,vec2(vv0.x-u29,vv0.y-u29))*1.,a-=texture2D(u0,vec2(vv0.x-u29,vv0.y))*2.,a-=texture2D(u0,vec2(vv0.x-u29,vv0.y+u29))*1.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y-u29))*1.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y))*2.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y+u29))*1.;vec4 b=vec4(0.);b-=texture2D(u0,vec2(vv0.x-u29,vv0.y-u29))*1.,b-=texture2D(u0,vec2(vv0.x,vv0.y-u29))*2.,b-=texture2D(u0,vec2(vv0.x+u29,vv0.y-u29))*1.,b+=texture2D(u0,vec2(vv0.x-u29,vv0.y+u29))*1.,b+=texture2D(u0,vec2(vv0.x,vv0.y+u29))*2.,b+=texture2D(u0,vec2(vv0.x+u29,vv0.y+u29))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u0,vv0).a),f=texture2D(u2,vv0);gl_FragColor=f.a*e.r*g;}",
g:["u0","u2","u29"],h:v},s31:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0,u2;uniform float u29;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float i=0.;vec2 l=k*u29,b,c;float d,a,g=0.;for(float f=-4.;f<=4.;f+=1.)for(float e=-4.;e<=4.;e+=1.)b=vec2(f,e),d=length(b)/2.,a=exp(-d*d),c=vv0+l*b,a=1.,i+=a*texture2D(u0,c).r,g+=a;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u0,c).r-i/g)*j;}",g:["u0","u2","u29"],h:v},s32:{name:"_",c:"uniform sampler2D u3;uniform vec2 u9;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 h=vec2(.5,.5),i=vec2(1.,0.),j=vec2(0.,1.);void main(){vec2 a=vv0-u9*h;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u9*i),d=texture2D(u3,a+u9*j),k=texture2D(u3,a+u9),l=e(b,c),g=e(d,k);gl_FragColor=e(l,g);}",
g:["u3","u9"],h:w},s33:{name:"_",c:"uniform sampler2D u3;uniform vec2 u9;varying vec2 vv0;const vec2 j=vec2(1.,0.),k=vec2(0.,1.),l=vec2(2.,0.),m=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u9*j),d=texture2D(u3,a+u9*k),g=texture2D(u3,a+u9),i=e(b,c),h=e(d,g);return e(i,h);}void main(){vec2 a=vv0+u9*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u9*l),d=f(a+u9*2.),g=f(a+u9*m),i=e(b,c),h=e(d,g);gl_FragColor=e(i,h);}",g:["u3","u9"],h:w},
s34:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*a;}",g:["u0"],h:u,precision:"lowp"},s35:{name:"_",c:"uniform sampler2D u0;uniform vec2 u9;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float d=15444.;void main(){vec4 a=1001./d*texture2D(u0,vv0-3.*u9)+2002./d*texture2D(u0,vv0-2.*u9)+3003./d*texture2D(u0,vv0-u9)+3432./d*texture2D(u0,vv0)+3003./d*texture2D(u0,vv0+u9)+2002./d*texture2D(u0,vv0+2.*u9)+1001./d*texture2D(u0,vv0+3.*u9);gl_FragColor=a;}",
g:["u9","u0"],h:u,precision:"lowp"},s36:{name:"_",c:"uniform sampler2D u0,u30,u31;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float h=.1;void main(){vec4 a=texture2D(u30,vv0),b=texture2D(u31,vv0),c=texture2D(u0,vv0),d=max(g*h,b-a*a),f=sqrt(d);gl_FragColor=(c-a)/f;}",g:["u0","u30","u31"],h:{u0:0,u30:1,u31:2},I:!0},s37:{name:"_",c:"uniform sampler2D u17,u32,u33;varying vec2 vv0;void main(){vec4 a=texture2D(u33,vv0);vec2 b=a.rg;vec4 c=texture2D(u17,b);vec2 d=a.ba;vec4 e=texture2D(u32,d);gl_FragColor=c*e;}",
g:["u17","u32","u33"],h:{u32:0,u33:1,u17:2}},s38:{name:"_",c:"uniform sampler2D u17,u32;uniform float u19,u27;varying vec2 vv0;void main(){float d=u19*u27;vec2 b=vv0*u27,c=floor(b),a=b-c;a.y=1.-a.y;vec2 g=floor(a*u19),h=(g*u27+c)/d;vec4 i=texture2D(u17,h),e=texture2D(u32,a);gl_FragColor=i*e;}",g:["u17","u32","u19","u27"],h:{u32:0,u17:1}},s39:{name:"_",c:"uniform sampler2D u17,u32;uniform float u19,u27,u26,u25;varying vec2 vv0;const vec2 e=vec2(1.,1.);void main(){float k=u19*u26/u27,d=u25*u27/u19,l=k/u25,m=u19/u25,n=k/u25;vec2 g=e-vv0,c=floor(u27*g),h=u27*g-c,i=floor(u25*h),j=u25*h-i,q=j*l,r=floor(c/d),s=c-r*d,t=floor(c/d),u=t+n*j,a=(u+i*m)/u19;a=mod(a,e),a=e-a;vec2 v=s-d*q,b=mod(v/u26,e);b=e-b,b+=vec2(1./u19,1./u19),b=mod(b,e);vec2 w=floor(a*u25),f=(w+b)/u25;f=mod(f,e);vec4 x=texture2D(u17,f),o=texture2D(u32,a);gl_FragColor=x*o;}",
g:"u17 u32 u19 u27 u26 u25".split(" "),h:{u32:0,u17:1}},s40:{name:"_",c:"uniform sampler2D u1,u34,u35;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u34,vv0),c=texture2D(u35,vv0);gl_FragColor=a-b;}",g:["u1","u34","u35"],h:{u1:0,u34:1,u35:2}},s41:{name:"_",c:"uniform sampler2D u1,u34,u35;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u34,vv0),c=texture2D(u35,vv0);gl_FragColor=c*(a-b);}",g:["u1","u34","u35"],h:{u1:0,u34:1,u35:2}},
s42:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a;}",g:["u4","u5","u28"],h:A},s43:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);vec4 g(vec4 b){vec4 a=exp(-b);return a/((f+a)*(f+a));}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*g(b);}",g:["u4","u5","u28"],h:A},s44:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.),i=vec4(1.,1.,1.,1.);const float h=1e-4;vec4 f(vec4 a){return h+step(g,a);}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*f(b);}",
g:["u4","u5","u28"],h:A},s45:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);vec4 f(vec4 a){vec4 b=exp(-abs(a));return mix(b,g,step(0.,a));}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*f(b);}",g:["u4","u5","u28"],h:A},s46:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);const float h=3.141593;vec4 g(vec4 b){vec4 a=b*h;return e/(e+a*a);}void main(){vec2 a=vv0;vec4 b=u28*texture2D(u4,a),c=texture2D(u5,a);gl_FragColor=b*g(c);}",
g:["u4","u5","u28"],h:A}},E={},C={Wa:function(){return p},l:function(){if(!p){for(var a in z)d(z[a],a);h.set("s0");c.enableVertexAttribArray(0);a=Fa.l();p=!0;return a}},ac:function(a){a.forEach(function(a){C.X(a)})},X:function(a){z[a.id]=a;d(a,a.id)},Nc:function(a,b,e){b||(b=a);z[b]=Object.create(E[a]);E[a].Pb&&E[a].Pb.forEach(function(a,d){z[b].c=z[b].c.replace(new RegExp(a,"g"),e[d])});d(z[b],b)},set:function(a){f(z[a])},Cd:function(){return e.zd},ea:function(){-1!==g&&(g=-1,e.sa.forEach(function(a){0!==
a&&c.disableVertexAttribArray(a)}))},ab:function(){var a=0;e.sa.forEach(function(b,d){d=e.Y[d];c.vertexAttribPointer(b,d,c.FLOAT,!1,e.eb,a);a+=4*d})},wc:function(){c.enableVertexAttribArray(0)},Ka:function(){c.vertexAttribPointer(e.sa[0],2,c.FLOAT,!1,8,0)},he:function(a,b){c.uniform1i(e.v[a],b)},m:function(a,b){c.uniform1f(e.v[a],b)},C:function(a,b,d){c.uniform2f(e.v[a],b,d)},T:function(a,b){c.uniform2fv(e.v[a],b)},ie:function(a,b){c.uniform3fv(e.v[a],b)},gd:function(a,b,d,m){c.uniform3f(e.v[a],b,
d,m)},Rb:function(a,b){c.uniform4fv(e.v[a],b)},je:function(a,b){c.uniformMatrix2fv(e.v[a],!1,b)},ke:function(a,b){c.uniformMatrix3fv(e.v[a],!1,b)},le:function(a,b){c.uniformMatrix4fv(e.v[a],!1,b)},D:function(a,b){C.set(a);b.forEach(function(a){switch(a.type){case "4f":c.uniform4fv(e.v[a.name],a.value);break;case "3f":c.uniform3fv(e.v[a.name],a.value);break;case "2f":c.uniform2fv(e.v[a.name],a.value);break;case "1f":c.uniform1f(e.v[a.name],a.value);break;case "1i":c.uniform1i(e.v[a.name],a.value);
break;case "mat2":c.uniformMatrix2fv(e.v[a.name],!1,a.value);break;case "mat3":c.uniformMatrix3fv(e.v[a.name],!1,a.value);break;case "mat4":c.uniformMatrix4fv(e.v[a.name],!1,a.value)}})}};return C}(),c,Ga=function(){function a(a){console.log("ERROR in ContextFeedForward : ",a);return!1}var b=!1,d=!1,f=!1,g=!1,e=!0,l=!1,p={o:function(){return b.width},R:function(){return b.height},Dd:function(){return b},Bd:function(){return c},A:function(){return e},flush:function(){c.flush()},Dc:function(){l||(l=
new Uint8Array(b.width*b.height*4));c.readPixels(0,0,b.width,b.height,c.RGBA,c.UNSIGNED_BYTE,l);return l},Fd:function(){return b.toDataURL("image/jpeg")},Gd:function(){q.L();d||(d=document.createElement("canvas"),f=d.getContext("2d"));d.width=b.width;d.height=b.height;var a=p.Dc(),e=f.createImageData(d.width,d.height),l,g,v=d.width,w=d.height,A=e.data;for(g=0;g<w;++g){var z=w-g-1;for(l=0;l<v;++l){var E=4*(g*v+l);var C=4*(z*v+l);A[E]=a[C];A[E+1]=a[C+1];A[E+2]=a[C+2];A[E+3]=a[C+3]}}f.putImageData(e,
0,0);return d.toDataURL("image/png")},Ed:function(a){!d&&a&&(d=document.createElement("canvas"),f=d.getContext("2d"));var e=a?d:document.createElement("canvas");e.width=b.width;e.height=b.height;(a?f:e.getContext("2d")).drawImage(b,0,0);return e},l:function(d){d.pc&&!d.ua?b=document.getElementById(d.pc):d.ua&&(b=d.ua);b||(b=document.createElement("canvas"));b.width=d&&void 0!==d.width?d.width:512;b.height=d&&void 0!==d.height?d.height:512;"undefined"===typeof d&&(d={});void 0===d.premultipliedAlpha&&
(d.premultipliedAlpha=!1);void 0===d.yb&&(d.yb=!0);void 0===d.antialias&&(d.antialias=!1);var l={antialias:d.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:d.premultipliedAlpha,stencil:!1,depth:d.yb};(c=b.getContext("webgl2",l))?e=!0:((c=b.getContext("webgl",l))||(c=b.getContext("experimental-webgl",l)),e=!1);if(!c)return a("WebGL is not enabled");(g=c.getExtension("WEBGL_lose_context"))&&b.addEventListener("webglcontextlost",d.Tc,!1);if(!r.l())return a("not enough capabilities");
if(!r.kc()&&e)return a("Your configuration cannot process color buffer float");c.clearColor(0,0,0,0);c.disable(c.DEPTH_TEST);c.disable(c.BLEND);c.disable(c.DITHER);c.disable(c.STENCIL_TEST);c.GENERATE_MIPMAP_HINT&&c.hint(c.GENERATE_MIPMAP_HINT,c.FASTEST);c.disable(c.SAMPLE_ALPHA_TO_COVERAGE);c.disable(c.SAMPLE_COVERAGE);return!0},Mc:function(){if(!h.l())return!1;c.depthFunc(c.LEQUAL);c.clearDepth(1);return!0}};return p}(),Ba=function(){var a="undefined"===typeof h?JEShaders:h;return{fd:function(b){a!==
b&&(a.ea(),a=b)},Wa:function(){return a.Wa()},Ka:function(){a.Ka()},ab:function(){a.ab()},ea:function(){a.ea()},set:function(b){a.set(b)}}}(),J=function(){var a,b,d=0,f=-2,g=-2,e=!1,l={reset:function(){g=f=-2},l:function(){e||(a=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,a),c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),c.STATIC_DRAW),b=c.createBuffer(),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b),c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),c.STATIC_DRAW),l.Ba(),e=!0)},
a:function(a){var b=d++,e=a.ma.length,l=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,l);c.bufferData(c.ARRAY_BUFFER,a.Ub instanceof Float32Array?a.Ub:new Float32Array(a.Ub),c.STATIC_DRAW);f=b;if(a.ma){var p=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,p);if(65536>a.ma.length){var v=Uint16Array;var w=c.UNSIGNED_SHORT;var A=2}else v=Uint32Array,w=c.UNSIGNED_INT,A=4;c.bufferData(c.ELEMENT_ARRAY_BUFFER,a.ma instanceof v?a.ma:new v(a.ma),c.STATIC_DRAW);g=b}var z={jc:function(a){f!==b&&(c.bindBuffer(c.ARRAY_BUFFER,
l),f=b);a&&Ba.ab()},hc:function(){g!==b&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,p),g=b)},bind:function(a){z.jc(a);z.hc()},tc:function(){c.drawElements(c.TRIANGLES,e,w,0)},xd:function(a,b){c.drawElements(c.TRIANGLES,a,w,b*A)},remove:function(){c.deleteBuffer(l);a.ma&&c.deleteBuffer(p);z=null}};return z},Ba:function(){-1!==f&&(c.bindBuffer(c.ARRAY_BUFFER,a),f=-1);-1!==g&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b),g=-1)},f:function(a,b){a&&J.Ba();b&&Ba.Ka();c.drawElements(c.TRIANGLES,3,c.UNSIGNED_SHORT,0)},
Cc:function(){c.deleteBuffer(a);c.deleteBuffer(b)}};return l}(),q=function(){var a,b,d,f=!1,g={F:-2,Ac:1};return{l:function(){if(!f){a=c.createFramebuffer();var e=r.A();b=e&&c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER;d=e&&c.READ_FRAMEBUFFER?c.READ_FRAMEBUFFER:c.FRAMEBUFFER;f=!0}},Jd:function(){return b},Ua:function(){return d},ka:function(){return c.FRAMEBUFFER},Ld:function(){return g},Ad:function(){return a},a:function(d){void 0===d.xb&&(d.xb=!1);var e=d.K?d.K:!1,f=d.width,m=void 0!==d.height?
d.height:d.width,n=a,u=!1,y=!1,v=0;e&&(f=f?f:e.o(),m=m?m:e.R());var w={Qb:function(){y||(n=c.createFramebuffer(),y=!0,v=g.Ac++)},$b:function(){w.Qb();w.u();u=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,u);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,f,m);c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,u);c.clearDepth(1)},bind:function(a,d){v!==g.F&&(c.bindFramebuffer(b,n),g.F=v);e&&e.u();d&&c.viewport(0,0,f,m);a&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},
qd:function(){v!==g.F&&(c.bindFramebuffer(b,n),g.F=v)},clear:function(){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},td:function(){c.clear(c.COLOR_BUFFER_BIT)},ud:function(){c.clear(c.DEPTH_BUFFER_BIT)},hd:function(){c.viewport(0,0,f,m)},u:function(){v!==g.F&&(c.bindFramebuffer(b,n),g.F=v)},rtt:function(a){e=a;g.F!==v&&(c.bindFramebuffer(c.FRAMEBUFFER,n),g.F=v);a.u()},L:function(){c.bindFramebuffer(b,null);g.F=-1},resize:function(a,b){f=a;m=b;u&&(c.bindRenderbuffer(c.RENDERBUFFER,u),c.renderbufferStorage(c.RENDERBUFFER,
c.DEPTH_COMPONENT16,f,m))},remove:function(){c.bindFramebuffer(b,n);c.framebufferTexture2D(b,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0);u&&c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,null);c.bindFramebuffer(b,null);c.deleteFramebuffer(n);u&&c.deleteRenderbuffer(u);w=null}};d.xb&&w.$b();return w},L:function(){c.bindFramebuffer(b,null);g.F=-1},ld:function(){c.bindFramebuffer(b,null);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);c.viewport(0,0,r.o(),r.R());g.F=-1},reset:function(){g.F=
-2},O:function(){0!==g.F&&(c.bindFramebuffer(b,a),g.F=0)},clear:function(){c.viewport(0,0,r.o(),r.R());c.clear(c.COLOR_BUFFER_BIT)}}}(),Y=function(){function a(a){c.bindTexture(c.TEXTURE_2D,a)}function b(a){S[0]=a;a=T[0];var b=a>>16&32768,d=a>>12&2047,K=a>>23&255;return 103>K?b:142<K?b|31744|((255==K?0:1)&&a&8388607):113>K?(d|=2048,b|(d>>114-K)+(d>>113-K&1)):b=(b|K-112<<10|d>>1)+(d&1)}function d(a){var d=new Uint16Array(a.length);a.forEach(function(a,K){d[K]=b(a)});return d}function f(){if(void 0!==
U)return U;if(!Ba.Wa()||!v)return!0;var a=X.a({isFloat:!1,M:!0,array:d([1,1,1,1]),width:1});q.L();c.viewport(0,0,1,1);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);Ba.set("s0");a.hb(0);J.f(!1,!0);var b=new Uint8Array(4);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,b);U=.9<b[0];a.remove();q.O();return U}var g=0,e,l=0,p,m=!1,n,u,y,v=!1,w=!1,A,z,E,C=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],aa=!1,ba=!1,S=new Float32Array(1),T=new Int32Array(S.buffer),U=void 0,X={l:function(){if(!v){u=[c.RGB,!1,c.RGB,
c.RGBA];y=[c.RGB,!1,c.RGB,c.RGBA];e=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3,c.TEXTURE4,c.TEXTURE5,c.TEXTURE6,c.TEXTURE7];aa="undefined"!==typeof JEContext;ba="undefined"!==typeof r;aa&&JEContext.Yd()&&e.push(c.TEXTURE8,c.TEXTURE9);p=[-1,-1,-1,-1,-1,-1,-1,-1];n=[c.UNSIGNED_BYTE,c.FLOAT,c.FLOAT];if(!m){for(var a=new Float32Array(16384),b=0;16384>b;++b)a[b]=2*Math.random()-1;m={random:X.a({isFloat:!0,isPot:!0,array:a,width:64}),Tb:X.a({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}v=
!0}},Lc:function(){X.md()},Od:function(){return m.Tb},md:function(){n[1]=r.Ea()},ad:function(){y=u=[c.RGBA,c.RGBA,c.RGBA,c.RGBA]},Ob:function(a,b){h.set("s1");q.L();var d=a.o(),K=a.R();c.viewport(0,0,d,K);a.b(0);J.f(!1,!1);c.readPixels(0,0,d,K,c.RGBA,c.UNSIGNED_BYTE,b)},Bc:function(b,d,e){c.activeTexture(c.TEXTURE0);g=0;var K=c.createTexture();a(K);var l=r.A()&&c.RGBA32F?c.RGBA32F:c.FLOAT;d=d instanceof Float32Array?d:new Float32Array(d);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,e);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,b.o(),b.R(),0,c.RGBA,l,d);a(null);c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);q.O();h.set("s0");b.i();c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);a(K);J.f(!0,!1);c.deleteTexture(K)},a:function(b){function m(){a(G);R&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,R);b.isPot?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,b.Ab?c.MIRRORED_REPEAT:c.REPEAT),c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_WRAP_T,b.Z?c.MIRRORED_REPEAT:c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));b.Ga&&"undefined"!==typeof JESETTINGS&&c.texParameterf(c.TEXTURE_2D,JEContext.Hd().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.od);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,b.isLinear?c.LINEAR:c.NEAREST);b.isLinear?c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,b.isMipmap&&!ea?c.NEAREST_MIPMAP_LINEAR:c.LINEAR):c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_MIN_FILTER,b.isMipmap&&!ea?c.NEAREST_MIPMAP_NEAREST:c.NEAREST);L=u[b.xa-1];V=y[b.xa-1];k=n[v];if(r.A()){var d=c.RGBA32F;L===c.RGBA&&k===c.FLOAT&&d&&(V=d);L===c.RGB&&k===c.FLOAT&&d&&(V=d,L=c.RGBA)}if(b.M&&!b.isFloat||b.isFloat&&b.isMipmap&&Fa.Pc())(d=c.RGBA16F)&&(V=d),k=r.Ea();b.Cb&&"undefined"!==typeof c.texStorage2D&&(I=b.Cb);b.Bb&&4===b.xa&&(L=JEContext.Md());if(b.J)c.texImage2D(c.TEXTURE_2D,0,V,L,k,b.J);else if(b.url)c.texImage2D(c.TEXTURE_2D,0,V,L,k,U);else if(W){try{var e=c.getError();
e!==c.NO_ERROR&&console.log("GLERR in SharedTexture :",e);c.texImage2D(c.TEXTURE_2D,0,V,B,x,0,L,k,W);c.getError()!==c.NO_ERROR&&(c.texImage2D(c.TEXTURE_2D,0,V,B,x,0,L,k,null),c.getError()!==c.NO_ERROR&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,B,x,0,c.RGBA,c.UNSIGNED_BYTE,null))}catch(xa){c.texImage2D(c.TEXTURE_2D,0,V,B,x,0,L,k,null)}b.isKeepArray||(W=null)}else c.texImage2D(c.TEXTURE_2D,0,V,B,x,0,L,k,null);if(b.isMipmap)if(!ea&&t)t.ia(),P=!0;else if(ea){e=Math.log(Math.min(B,x))/Math.log(2);H=Array(1+e);
H[0]=G;for(d=1;d<=e;++d){var l=Math.pow(2,d);var f=B/l;l=x/l;var m=c.createTexture();a(m);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,V,f,l,0,L,k,null);a(null);H[d]=m}P=!0}a(null);p[g]=-1;R&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);S=!0;N&&t&&(N(t),N=!1)}"undefined"===typeof b.isFloat&&(b.isFloat=!1);"undefined"===typeof b.M&&(b.M=!1);"undefined"===typeof b.isPot&&(b.isPot=!0);"undefined"===typeof b.isLinear&&
(b.isLinear=!1);"undefined"===typeof b.isMipmap&&(b.isMipmap=!1);"undefined"===typeof b.Oa&&(b.Oa=!1);void 0===b.Ga&&(b.Ga=!1);void 0===b.Z&&(b.Z=!1);void 0===b.Ab&&(b.Ab=!1);void 0===b.Bb&&(b.Bb=!1);void 0===b.xa&&(b.xa=4);void 0===b.zb&&(b.zb=!1);"undefined"===typeof b.isFlipY&&(b.isFlipY=b.url||b.array?!0:!1);"undefined"===typeof b.isKeepArray&&(b.isKeepArray=!1);b.data&&(b.array="string"===typeof b.data?Aa(b.data):b.isFloat?new Float32Array(b.data):new Uint8Array(b.data),b.isFlipY=!1);var v=0,
K=b.J?!0:!1;b.isFloat&&(b.M=!0);b.M&&(v=1);b.zb||r.A()||!b.isFloat||!ba||r.jb()||(b.isFloat=!1);b.isFloat&&(v=2);b.Ga&&aa&&!JEContext.Td()&&(b.Ga=!1);var G=c.createTexture(),N=b.Oa,U=null,W=!1,B=0,x=0,S=!1,T=l++,ia=!1,Z,ca,ja,ka,V,L,k,R=b.isFlipY,ea=b.M&&b.isMipmap&&Fa&&!Fa.mc(),H,I=-1,P=!1;"undefined"!==typeof b.width&&b.width&&(B=b.width,x="undefined"!==typeof b.height&&b.height?b.height:B);var t={get:function(){return G},o:function(){return B},R:function(){return x},Pd:function(){return b.url},
Ud:function(){return b.isFloat},Wd:function(){return b.M},Xd:function(){return b.isLinear},ia:function(){c.generateMipmap(c.TEXTURE_2D)},ib:function(b,d){ea?(b||(b=t.tb()),t.La(d),a(H[b]),p[d]=-1):t.b(d)},tb:function(){-1===I&&(I=Math.log(B)/Math.log(2));return I},rb:function(b){if(ea){b||(b=t.tb());h.set("s11");t.La(0);var d,e=B,l=x;for(d=1;d<=b;++d)e/=2,l/=2,h.C("u9",.25/e,.25/l),c.viewport(0,0,e,l),a(H[d-1]),c.framebufferTexture2D(q.ka(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,H[d],0),J.f(!1,1===d);p[0]=
-1}else t.ia()},La:function(a){a!==g&&(c.activeTexture(e[a]),g=a)},b:function(b){if(!S)return!1;t.La(b);if(p[b]===T)return!1;a(G);p[b]=T;return!0},hb:function(b){c.activeTexture(e[b]);g=b;a(G);p[b]=T},u:function(){c.framebufferTexture2D(q.ka(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,G,0)},i:function(){c.viewport(0,0,B,x);c.framebufferTexture2D(q.ka(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,G,0)},re:function(){c.framebufferTexture2D(q.ka(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)},resize:function(a,b){B=a;x=b;m()},
clone:function(a){a=X.a({width:B,height:x,M:b.M,isFloat:b.isFloat,isLinear:b.isLinear,Z:b.Z,isFlipY:a?!R:R,isPot:b.isPot});Ba.set("s0");q.O();a.u();c.viewport(0,0,B,x);t.b(0);J.f(!0,!0);return a},hd:function(){c.viewport(0,0,B,x)},remove:function(){c.deleteTexture(G);t=null},refresh:function(){t.hb(0);R&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);K?c.texImage2D(c.TEXTURE_2D,0,V,L,c.UNSIGNED_BYTE,b.J):c.texImage2D(c.TEXTURE_2D,0,V,B,x,0,L,k,W);R&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},kb:function(){var a=
B*x*4;ca=[new Uint8Array(a),new Uint8Array(a),new Uint8Array(a),new Uint8Array(a)];Z=[new Float32Array(ca[0].buffer),new Float32Array(ca[1].buffer),new Float32Array(ca[2].buffer),new Float32Array(ca[3].buffer)];ja=new Uint8Array(4*a);ka=new Float32Array(ja.buffer);ia=!0},Nb:function(){ia||t.kb();c.readPixels(0,0,B,4*x,c.RGBA,c.UNSIGNED_BYTE,ja);var a,b=B*x,d=2*b,e=3*b;for(a=0;a<b;++a)Z[0][a]=ka[a],Z[1][a]=ka[a+b],Z[2][a]=ka[a+d],Z[3][a]=ka[a+e];return Z},ob:function(){q.L();h.set("s12");t.b(0);c.viewport(0,
0,B,4*x);for(var a=0;4>a;++a)c.viewport(0,x*a,B,x),h.Rb("u10",C[a]),J.f(!1,0===a)},se:function(b){a(G);R&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,R);c.texImage2D(c.TEXTURE_2D,0,V,B,x,0,L,k,b);p[g]=T;R&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},te:function(b,d){a(G);c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,d);c.texImage2D(c.TEXTURE_2D,0,V,L,k,b);p[g]=T;d&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},ce:function(a,d){var e=B*x,l=4*e;a=b.M?a?"RGBE":"JSON":"RGBA";d&&(a=d);d=r.A()&&!1;switch(a){case "RGBE":var g="s47";
break;case "JSON":g=d?"s0":"s12";break;case "RGBA":case "RGBAARRAY":g="s6"}ia||("RGBA"===a||"RGBE"===a||"RGBAARRAY"===a?(ca=new Uint8Array(l),ia=!0):"JSON"!==a||d||t.kb());q.L();h.set(g);t.b(0);if("RGBA"===a||"RGBE"===a||"RGBAARRAY"===a){c.viewport(0,0,B,x);J.f(!0,!0);c.readPixels(0,0,B,x,c.RGBA,c.UNSIGNED_BYTE,ca);if("RGBAARRAY"===a)return{data:ca};w||(A=document.createElement("canvas"),z=A.getContext("2d"),w=!0);A.width=B;A.height=x;E=z.createImageData(B,x);E.data.set(ca);z.putImageData(E,0,0);
var f=A.toDataURL("image/png")}else if("JSON"===a)if(d)f=new Float32Array(e),c.viewport(0,0,B,x),J.f(!0,!0),c.readPixels(0,0,B,x,c.RGBA,c.FLOAT,f);else{for(f=0;4>f;++f)c.viewport(0,x*f,B,x),h.Rb("u10",C[f]),J.f(!f,!f);t.Nb();f=Array(e);for(g=0;g<e;++g)f[4*g]=Z[0][g],f[4*g+1]=Z[1][g],f[4*g+2]=Z[2][g],f[4*g+3]=Z[3][g]}return{format:a,data:f,width:B,height:x,isMirrorY:b.Z,isFlipY:"RGBA"===a?b.isFlipY:!b.isFlipY}}};b.isMipmap&&!ea&&S&&!P&&(t.ia(),P=!0);if(b.url)a(G),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,
1,1,0,c.RGBA,c.UNSIGNED_BYTE,null),U=new Image,U.wd="Anonymous",U.crossOrigin="Anonymous",U.src=b.url,U.onload=function(){B=U.width;x=U.height;m()};else if(b.J){var Q=function(){B=void 0!==b.J.videoWidth?b.J.videoWidth:b.J.width;x=void 0!==b.J.videoHeight?b.J.videoHeight:b.J.height;B?m():setTimeout(Q,1)};Q()}else b.array?(b.M&&!b.isFloat?b.array instanceof Uint16Array?(W=b.array,m()):f()?(W=d(b.array),m()):(m(),X.Bc(t,b.array,R)):(W=b.isFloat?b.array instanceof Float32Array?b.array:new Float32Array(b.array):
b.array instanceof Uint8Array?b.array:new Uint8Array(b.array),m()),b.isKeepArray||(W&&W!==b.array&&(W=null),delete b.array)):m();t.Gc=t.o;N&&S&&(N(t),N=!1);return t},L:function(b){b!==g&&(c.activeTexture(e[b]),g=b);p[b]=-1;a(null)},rd:function(a){m.random.b(a)},reset:function(){for(var a=0;a<e.length;++a)p[a]=-1;g=-1},ae:function(){g=-1},pe:function(){for(var a=0;a<e.length;++a)X.L(a)},Cc:function(){m&&(m.random.remove(),m.Tb.remove())},qe:function(a,b){if("RGBA"===a.format||"RGBE"===a.format){var d=
new Image;d.src=a.data;d.onload=function(){X.a({Z:a.isMirrorY,isFlipY:a.isFlipY,isFloat:!1,J:d,Oa:function(d){if("RGBA"===a.format)b(d);else{var e=a.width,l=a.height,g=X.a({Z:a.isMirrorY,isFloat:!0,width:e,height:l,isFlipY:a.isFlipY});q.O();c.viewport(0,0,e,l);h.set("s48");g.u();d.b(0);J.f(!0,!0);X.L(0);b(g);c.flush();setTimeout(d.remove,50)}}})}}else"JSON"===a.format?b(X.a({isFloat:!0,isFlipY:a.isFlipY,width:a.width,height:a.height,array:new Float32Array(a.data)})):b(!1)}};return X}(),Ha={a:function(a){var b=
[Y.a(a),Y.a(a)],d=[b[1],b[0]],f=d,g={ed:function(a){f[1].u();f[0].b(a);g.Sb()},ge:function(a){f[1].i();f[0].b(a);g.Sb()},Sb:function(){f=f===b?d:b},refresh:function(){f[0].refresh();f[1].refresh()},b:function(a){f[0].b(a)}};return g}},r=function(){function a(){b="undefined"===typeof Ga?JEContext:Ga;d=!0}var b,d=!1,f=!1,g=!1,e=!1,l=!1,p=!1,m=!1,n=!1,u=!1,y=!1,v=!1,w=!0,A=!0,z=!0,E,C={l:function(){if(d)return!0;a();C.A()||(C.pb(),C.Qa());C.xc();C.yc();q.l();Y.l();if(!C.qc())return!1;J.l();Y.Lc();return!0},
o:function(){d||a();return b.o()},R:function(){d||a();return b.R()},A:function(){d||a();return b.A()},xc:function(){v=(y=c.getExtension("EXT_color_buffer_float")||c.getExtension("WEBGL_color_buffer_float")||c.getExtension("OES_color_buffer_float"))?!0:!1;window.GL_EXT_COLORBUFFERFLOAT=y},yc:function(){c.getExtension("EXT_color_buffer_half_float")||c.getExtension("WEBGL_color_buffer_half_float")||c.getExtension("OES_color_buffer_half_float")},pb:function(){if(!f){this.A()||(g=c.getExtension("OES_texture_float")||
c.getExtension("MOZ_OES_texture_float")||c.getExtension("WEBKIT_OES_texture_float"),l=(window.GL_EXT_FLOAT=g)?!0:!1);if(l||this.A())e=c.getExtension("OES_texture_float_linear")||c.getExtension("MOZ_OES_texture_float_linear")||c.getExtension("WEBKIT_OES_texture_float_linear"),window.GL_EXT_FLOATLINEAR=e;f=!0}},Qa:function(){if(!u){if(!this.A()){if(p=c.getExtension("OES_texture_half_float")||c.getExtension("MOZ_OES_texture_half_float")||c.getExtension("WEBKIT_OES_texture_half_float"))E=p.HALF_FLOAT_OES,
m=!0;window.GL_EXT_HALFFLOAT=p}if(m||this.A())n=c.getExtension("OES_texture_half_float_linear")||c.getExtension("MOZ_OES_texture_half_float_linear")||c.getExtension("WEBKIT_OES_texture_half_float_linear"),window.GL_EXT_HALFFLOATLINEAR=n;u=!0}},Ea:function(){if(C.A())return c.HALF_FLOAT;C.Qa();return m?E:c.FLOAT},jb:function(){return w},lc:function(){return A},sd:function(){return z},kc:function(){return v},sc:function(){A=w=!0;var a=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,a);var b=c.createTexture();
c.bindTexture(c.TEXTURE_2D,b);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,C.A()&&c.RGBA32F?c.RGBA32F:c.RGBA,1,1,0,c.RGBA,c.FLOAT,null);c.framebufferTexture2D(q.ka(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,b,0);var d=c.checkFramebufferStatus(q.Ua());d!==c.FRAMEBUFFER_COMPLETE&&(w=!1);c.texImage2D(c.TEXTURE_2D,0,C.A()&&c.RGBA16F?c.RGBA16F:c.RGBA,1,1,0,c.RGBA,C.Ea(),null);c.framebufferTexture2D(q.ka(),
c.COLOR_ATTACHMENT0,c.TEXTURE_2D,b,0);d=c.checkFramebufferStatus(q.Ua());d!==c.FRAMEBUFFER_COMPLETE&&(A=!1);c.bindTexture(c.TEXTURE_2D,null);c.bindFramebuffer(c.FRAMEBUFFER,null);c.deleteTexture(b);c.deleteFramebuffer(a)},rc:function(){var a=q.a({width:1});a.Qb();var b=Y.a({width:1,isFloat:!0,xa:3});a.u();b.u();c.flush();c.checkFramebufferStatus(q.Ua())!==c.FRAMEBUFFER_COMPLETE?(Y.ad(),z=!1):z=!0;a.remove();b.remove()},qc:function(){C.sc();if(!w&&!A)return!1;C.rc();return!0}};return C}(),Fa=function(){var a=
!1,b=[.8,1,.8,1],d=0,f,g=new Uint8Array(4),e=b.concat(b,b,b),l=!0,p={l:function(){function b(a,b,d,e){c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,e?c.NEAREST_MIPMAP_NEAREST:c.LINEAR);try{var l=c.getError();l!==c.NO_ERROR&&console.log("GLERR in test_mipmapping() :",l);c.texImage2D(c.TEXTURE_2D,0,a,2,2,0,c.RGBA,b,d);if(c.getError()!==c.NO_ERROR)return!1}catch(ba){return!1}e&&c.generateMipmap(c.TEXTURE_2D);J.Ba();J.f(!1,!0);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,g);return 0!==g[0]}function p(a){return r.jb()&&
b(y,c.FLOAT,new Float32Array(e),a)?(d=3,!0):!1}function u(a){return r.lc()?b(v,r.Ea(),new Uint16Array(e),a)||b(v,c.FLOAT,new Float32Array(e),a)?(d=2,!0):!1:!1}r.pb();r.Qa();var y=c.RGBA,v=c.RGBA;if(Ga.A()){var w=c.RGBA32F;w&&(y=w);(w=c.RGBA16F)&&(v=w)}J.l();q.reset();q.L();c.viewport(0,0,1,1);h.set("s0");a=!0;f=c.createTexture();c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,f);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);if(u(!0)||p(!0))return!0;l=!1;return u(!1)||p(!1)?!0:!1},mc:function(){return l},Kd:function(){return d},Vd:function(){a||p.l();return 3===d},Pc:function(){a||p.l();return 2===d}};return p}(),Ka={a:function(a){var b=Y.a(a.alpha),d=Y.a(a.beta);return{uc:function(){b.b(1);d.b(2)}}}},Na={a:function(a){var b=a.jd;b.index=a.index;b.aa=a.aa;b.parent=a.parent;switch(b.type){case "input":a=La.a(b);break;default:a=Ma.a(b)}return a}},La={a:function(a){"undefined"===
typeof a.sift&&(a.sift=!1);"undefined"===typeof a.DWT&&(a.DWT=!1);"undefined"===typeof a.blur&&(a.blur=!1);"undefined"===typeof a.siftOutWidth&&(a.siftOutWidth=!1);"undefined"===typeof a.filterBank&&(a.filterBank=!1);"undefined"===typeof a.poolType&&(a.poolType="max");"undefined"===typeof a.postpreprocessing&&(a.postpreprocessing="copy");"undefined"===typeof a.density&&(a.density=1);a.filterBank&&(FilterBank.fe(a.poolType,a.postpreprocessing),FilterBank.de(a.density));var b=!1;if(a.mask){b=!0;SETTINGS&&
void 0!==SETTINGS.fc&&(a.mask=SETTINGS.fc+a.mask);var d=Y.a({isFloat:!1,url:a.mask})}var f=!1,g="undefined"!==typeof a.preprocessing?a.preprocessing:!1,e=!1;a.sift?Sift.l({Jc:c,ua:!1,width:a.size,Zd:a.siftOutWidth}):a.DWT&&DWT.l({Jc:c,ua:!1,width:a.size});switch(g){case "sobel":var l="s30";e=!0;break;case "meanNormalization":l="s31";e=!0;break;case "grayScale":l="s29";e=!1;break;case "copy":l="s0";break;case "inputLightRegulation":l="s29";Oa.l({width:a.size,Db:a.nBlurPass,Oc:!1});f=!0;break;case "direct":case "none":l=
!1;break;default:l="s3"}b&&(l+="Mask");if(a.blur)var p=Y.a({isFloat:!1,isPot:!1,width:a.size});var m=Y.a({isFloat:!1,isPot:!1,width:a.size}),n,u,y,v={o:function(){return a.sift?Sift.la():a.filterBank?FilterBank.la():a.size},la:function(){return v.o()},vb:function(){return a.sift?Sift.wa():a.DWT?DWT.wa():a.filterBank?FilterBank.wa():f?Oa.wa():m},P:function(){q.O();a.blur&&(p.i(),h.set("s49"),h.C("u9",1/a.size,1/a.size),J.f(!1,!0),p.b(0));l&&(h.set(l),e&&h.m("u29",1/a.size),m.i(),b&&d.b(1),J.f(!1,!1),
m.b(0),f?Oa.ba(m):a.sift?(h.ea(),Sift.ba()):a.DWT?(h.ea(),DWT.ba(4)):a.filterBank&&(h.ea(),FilterBank.ba(m)))},ee:function(a){n=a},$a:function(b){n=b;u="s42";y=Y.a({isFloat:!0,isPot:!0,width:a.size})},Sa:function(){return y},V:function(){var a=v.vb(),b=n.Sa();n.Ta().V(b);b=n.Ta().ja();h.set(u);h.m("u28",b*b);a.b(1);y.i();J.f(!1,!1);y.b(0)}};return v}},Ma={a:function(a){"undefined"===typeof a.disableNormalize&&(a.disableNormalize=!1);var b=[],d=[],f,g,e=!1,l,p=!0,m,n,u=a.isReorganize?a.isReorganize:
!1,y=a.kernelsNumber?!0:!1,v,w,A,z,E,C,aa,ba,S=a.dynPelu?Ka.a(a.dynPelu):!1,T=S?!0:!1,U={isEnabled:!1},X;if("softmax"===a.type){a.activation="softmax";a.size=Math.pow(2,Math.ceil(Math.log(Math.sqrt(a.num_classes))/Math.log(2)));a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.aa.la();a.gain="undefined"!==typeof a.gain?a.gain:1;h.D("s20",[{type:"1f",name:"u12",value:a.gain}]);var K=Y.a({isFloat:!0,isPot:!1,width:a.size}),ma=Y.a({isFloat:!0,isPot:!1,width:a.size,isMipmap:!0});p=!1;var ha=new Uint8Array(Math.pow(4*
a.size,2)),da;for(da=0;da<a.size*a.size;++da){var G=da<a.num_classes?255:0;ha[4*da]=G;ha[4*da+1]=G;ha[4*da+2]=G;ha[4*da+3]=G}var N=Y.a({isFloat:!1,isPot:!1,width:a.size,array:ha})}else a.cost?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.aa.la(),p=!1):"full"===a.connectivityUp&&(a.sparsity=a.aa.la());var na={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",softmax:"s20",dynPelu:"s17"}[a.activation],W=a.sparsity*a.sparsity,B=!1,x=a.size;if(a.maxPooling){switch(a.maxPooling.size){case 2:var oa=
"s32";break;case 4:oa="s33"}B=!0;x/=a.maxPooling.size;var ra=Y.a({isFloat:!0,isPot:!1,width:x})}var ia="undefined"!==typeof a.normalization&&a.normalization?!0:!1;if(ia){var Z="s50"+a.index;h.Nc("s50",Z,[((a.normalization.n-1)/2).toFixed(1)]);h.D(Z,[{type:"1i",name:"u0",value:0},{type:"2f",name:"u9",value:[1/a.size,1/a.size]},{type:"1f",name:"u8",value:a.normalization.alpha},{type:"1f",name:"u11",value:a.normalization.beta},{type:"1f",name:"u36",value:a.normalization.k}]);var ca=Y.a({isFloat:!0,isPot:!0,
width:a.size});var ja=Y.a({isFloat:!0,isPot:!0,width:a.size})}ha=a.size*a.sparsity;var ka=Math.log(ha/a.size)/Math.log(2),V=Y.a({isMipmap:!0,isFloat:!0,isPot:!0,width:ha,Cb:ka}),L=Y.a({isFloat:!0,isPot:!0,width:a.size}),k;p&&(k=Y.a({isFloat:!0,isPot:!1,width:a.size}));var R=Y.a(a.bias),ea,H={o:function(){return a.size},la:function(){return x},ub:function(){return a.num_classes},ic:function(a){X.b(a)},Vc:function(){a.remap&&a.remap.isEnabled&&(U={isEnabled:!0,Rc:Y.a({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),
width:a.remap.maskTexture.width,isPot:!1}),layers:a.remap.layers.map(function(b){return a.parent.Fc(b)}),depth:a.remap.depth})},cd:function(){switch(a.connectivityUp){case "gaussian":ea=Sa.a(a.connectivity);break;case "direct":ea=Ta.a(a.connectivity);break;case "square":ea=Ua.a(a.connectivity);break;case "full":ea=Va.a(a.connectivity);break;case "conv":n=a.kernelsNumber,ea=Wa.a(a.connectivity),u&&(m=Y.a({width:x,isFloat:!0,isFlipY:!1,isPot:!1}))}},P:function(b,d){X=b;V.i();y&&R.b(2);ea.P(U);V.b(0);
V.rb(ka);L.i();y?h.set("s0"):(h.set("s28"),h.m("u28",W),R.b(1));V.ib(ka,0);J.f(!1,!1);h.set(na);ia?ca.u():k.u();L.b(0);T&&S.uc();J.f(!1,!1);ia&&(h.set(Z),ja.u(),ca.b(0),J.f(!1,!1),h.set("s51"),h.m("u8",1),k.u(),ja.b(1),J.f(!1,!1));if(p)return B?(ra.i(),k.b(0),h.set(oa),h.C("u9",1/a.size,1/a.size),J.f(!1,!1),d=ra):d=k,d.b(0),u&&(m.u(),h.set("s22"),h.C("u16",n,x/n),J.f(!1,!1),d=m,m.b(0)),C=d;if("softmax"===a.type){h.set("s20");k.b(0);K.u();J.f(!1,!1);a.disableNormalize?b=K:(h.set("s2"),K.b(0),N.b(1),
ma.u(),J.f(!1,!1),h.set("s0"),g.i(),ma.b(0),ma.rb(!1),J.f(!1,!1),h.set("s21"),f.i(),ma.ib(!1,0),h.m("u14",k.Gc()),g.b(1),J.f(!1,!1),b=f);if(d){switch(e){case "cpuRGBAAvg":break;default:var t=H.Ib(b)}return t}return!1}if(a.cost){h.set("gpuRawAvg"===e?"s8":"s7");d=k;a.disableNormalize||(h.m("u6",1/a.size),f.i(),k.b(0),J.f(!1,!1),d=f);C=d;switch(e){case "cpuRGBA2Float":d.ob();t=H.Ib(d);l(t);break;case "gpuRawAvg":case "gpuRaw":d.b(0),l(d)}return!1}},oc:function(p){p&&"undefined"!==typeof p.Hb&&(e=p.Hb,
l=p.Uc);k=Y.a({isFloat:!0,isPot:!0,isMipmap:"softmax"===a.type,width:a.size});"softmax"===a.type&&(g=Y.a({isFloat:!0,isPot:!0,width:1}));var m=0,n=0,y="undefined"!==typeof a.num_classes&&a.num_classes?a.num_classes:a.size*a.size;for(p=0;p<y;++p)b.push(m+(a.size-1-n)*a.size),d.push([-1,-1,-1,-1]),++m,m===a.size&&(m=0,++n);a.disableNormalize||(f=Y.a({isFloat:!0,isPot:!0,width:a.size}))},Ib:function(a){a.ob();var e=a.Nb();b.forEach(function(a,b){d[b][0]=e[0][a];d[b][1]=e[1][a];d[b][2]=e[2][a];d[b][3]=
e[3][a]});return d},$a:function(b){E=b;ba={me:"s43",$d:"s44",vd:"s42",yd:"s45",pd:"s46"}[a.activation];b={isFloat:!0,isPot:!0,width:a.size};aa=Y.a(b);w=Y.a(b);B&&Y.a(b);u&&(A=Y.a(b));p||(z=Y.a({isFloat:!0,isPot:!1,width:a.size}))},Sa:function(){return v},V:function(b){if(!p){z.i();h.set("quadratic"===a.cost?"s41":"s40");b.b(1);C.b(0);J.f(!1,!1);z.b(0);var d=1}b=L;p&&(d=E.Sa(),u&&(aa.i(),h.set("s22"),L.b(0),h.C("u16",n,x/n),J.f(!1,!1),b=aa,d.b(0)),E.Ta().V(d),d=E.Ta().ja());h.set(ba);h.m("u28",d*d);
b.b(1);w.i();J.f(!1,!1);v=w;u&&(h.set("s22"),A.i(),w.b(0),h.C("u16",x/n,n),J.f(!1,!1),v=A);v.b(0)}};a.aa&&H.cd(a.aa);return H}};
function Xa(){var a={Sd:!1},b,d,f;a||(a={});this.Fc=function(a){return b[a]};this.$c=function(a){var e=!1;b=a.map(function(a,b){return e=a=Na.a({index:b,parent:this,jd:a,aa:e})});d=b[0];f=b[b.length-1];b.forEach(function(a,b){0!==b&&a.Vc()})};this.P=function(a,d){var e=d;b.forEach(function(b){e=b.P(e,a)});return e};this.$a=function(){for(var a=b.length-1,d;0<=a;--a)d=a!==b.length-1?b[a+1]:!1,b[a].$a(d)};this.V=function(a){for(var d=b.length-1;0<=d;--d)b[d].V(a)};this.sb=function(){return d.o()};this.wa=
function(){return f.vb()};this.bd=function(a){f.oc(a)};this.ub=function(){return f.ub()}}
var Ta={a:function(a){var b=Y.a(a.weights);delete a.weights.data;return{ja:function(){return 1},Fa:function(){return b},P:function(){h.set("s27");b.b(1);J.f(!1,!1)}}}},Va={a:function(a){var b=a.fromLayerSize*a.toLayerSize,d=a.fromLayerSize,f=Y.a(a.weights),g=Y.a({isFloat:!0,isPot:!0,width:b,isMipmap:!0}),e=Y.a({isFloat:!0,isPot:!0,width:a.fromLayerSize});return{ja:function(){return d},Fa:function(){return f},Id:function(){return _fboWeights},P:function(b){if(b.isEnabled){h.set("s25");b.Rc.b(3);var d,
e=Math.min(b.layers.length,b.depth);for(d=0;d<e;++d)b.layers[d].ic(4+d)}else h.set("s24");h.m("u19",a.toLayerSize);f.b(1);J.f(!1,!1)},V:function(){h.set("s38");h.m("u19",a.toLayerSize);h.m("u27",a.fromLayerSize);g.i();f.b(1);J.f(!1,!1);e.i();h.set("s0");g.b(0);g.ia();J.f(!1,!1);e.b(0)}}}},Sa={a:function(a){var b=a.toSparsity*a.toLayerSize,d=b/a.fromLayerSize,f=Y.a(a.weights),g=Y.a({isFloat:!0,isPot:!0,width:b,array:new Float32Array(a.weightsFromTo)}),e=Y.a({width:b,isFloat:!0,array:new Float32Array(a.fromBindings),
isPot:!0}),l=Y.a({width:b,isFloat:!0,array:new Float32Array(a.toBindings),isPot:!0});return{ja:function(){return d},Fa:function(){return f},Ec:function(){return e},Hc:function(){return l},Ic:function(){return g},P:function(){h.set("s23");f.b(1);l.b(2);J.f(!1,!0)}}}},Ua={a:function(a){var b=a.fromLayerSize,d=a.toLayerSize,f=a.toSparsity*d,g=f/b,e=a.toSparsity,l=b/d,p,m,n,u,y=0,v=0,w=0,A=Array(e*d*e*d*4),z=Array(e*d*e*d*4),E=Array(e*d*e*d*4),C=Array(b*b);for(p=0;p<C.length;++p)C[p]=0;var aa=Math.floor(e/
2),ba=.5/d,S=.5/b,T=.5/f;for(p=0;p<d;++p)for(m=0;m<d;++m){var U=Math.round(p*l);var X=Math.round(m*l);var K=p/d;var ma=m/d;K+=ba;ma+=ba;for(n=0;n<e;++n)for(u=0;u<e;++u){var ha=y/f;var da=v/f;var G=U+n-aa;var N=X+u-aa;0>G&&(G+=b);0>N&&(N+=b);G>=b&&(G-=b);N>=b&&(N-=b);var na=G/b;var W=N/b;da=1-da-1/f;na+=S;W+=S;ha+=T;da+=T;A[4*w]=na;A[4*w+1]=W;A[4*w+2]=K;A[4*w+3]=ma;var B=p*e+n,x=m*e+u;x=d*e-x-1;B=x*d*e+B;z[4*B]=ha;z[4*B+1]=da;z[4*B+2]=na;z[4*B+3]=W;na=C[N*b+G]++;W=na%g;G=G*g+W;N=N*g+(na-W)/g;N=b*g-
1-N;N=N*b*g+G;E[4*N]=ha;E[4*N+1]=da;E[4*N+2]=K;E[4*N+3]=ma;++y>=f&&(y=0,++v);++w}}var oa=Y.a(a.weights),ra=Y.a({isFloat:!0,isPot:!0,width:f,array:new Float32Array(A)}),ia=Y.a({width:f,isFloat:!0,array:new Float32Array(E),isPot:!0});E=null;var Z=Y.a({width:f,isFloat:!0,array:new Float32Array(z),isPot:!0});z=null;var ca=Y.a({isFloat:!0,isPot:!0,width:f,isMipmap:!0}),ja=Y.a({isFloat:!0,isPot:!0,width:f/g});return{ja:function(){return g},Fa:function(){return oa},Ec:function(){return ia},Hc:function(){return Z},
Ic:function(){return ra},P:function(){h.set("s23");oa.b(1);Z.b(2);J.f(!1,!1)},V:function(){h.set("s37");ca.i();ia.b(1);oa.b(2);J.f(!1,!1);h.set("s0");ja.i();ca.b(0);ca.ia();J.f(!1,!1);ja.b(0)}}}},Wa={a:function(a){function b(){h.m("u25",d);h.m("u26",f);h.m("u19",a.toLayerSize);h.m("u27",a.fromLayerSize)}var d=a.kernelsNumber,f=a.toSparsity,g=f*a.toLayerSize,e=g/a.fromLayerSize,l=Y.a(a.weights),p=Y.a({isFloat:!0,isPot:!0,width:g,isMipmap:!0}),m=Y.a({isFloat:!0,isPot:!0,width:a.fromLayerSize});return{ja:function(){return e},
Nd:function(){return f},Fa:function(){return l},P:function(){h.set("s26");b();l.b(1);J.f(!1,!1)},V:function(){h.set("s39");b();p.i();l.b(1);J.f(!1,!1);h.set("s0");m.i();p.b(0);p.ia();J.f(!1,!1);m.b(0)}}}},Oa=function(){var a,b,d,f,g,e,l,p,m;return{l:function(n){a=n.Db?n.Db:3;b=n.width?n.width:64;f=n.Oc?!0:!1;n={isFloat:!1,width:b,isPot:!1,isFlipY:!1};g=Y.a(n);e=Y.a(n);l=Y.a(n);p=Y.a(n);m=Y.a({isFloat:!0,width:b,isPot:!1,isFlipY:!1});d=1/b},ba:function(b){h.set("s35");for(var n=0;n<a;++n)g.u(),h.C("u9",
d,0),J.f(f,!1),e.u(),g.b(0),h.C("u9",0,d),J.f(f,!1),e.b(0);h.set("s34");p.u();b.b(0);J.f(f);h.set("s35");for(n=0;n<a;++n)l.u(),p.b(0),h.C("u9",d,0),J.f(f,!1),p.u(),l.b(0),h.C("u9",0,d),J.f(f,!1);h.set("s36");m.u();b.b(0);e.b(1);p.b(2);J.f(f,!1);m.b(0)},wa:function(){return m}}}(),Ya=function(){function a(a){q.L();h.set("s1");c.viewport(0,0,1,1);J.f(!1,!1);c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,a);q.O()}var b=!1,d=!1,f,g,e={l:function(){var a={u0:0};h.X({id:"s53",name:"_",c:"varying vec2 vv0;uniform sampler2D u0;uniform vec2 u29;const vec3 f=vec3(.3333,.3333,.3333);const vec4 h=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u0,vec2(vv0.x-u29.x,vv0.y-u29.y))*1.,a-=texture2D(u0,vec2(vv0.x-u29.x,vv0.y))*2.,a-=texture2D(u0,vec2(vv0.x-u29.x,vv0.y+u29.y))*1.,a+=texture2D(u0,vec2(vv0.x+u29.x,vv0.y-u29.y))*1.,a+=texture2D(u0,vec2(vv0.x+u29.x,vv0.y))*2.,a+=texture2D(u0,vec2(vv0.x+u29.x,vv0.y+u29.y))*1.;vec4 b=vec4(0.);b-=texture2D(u0,vec2(vv0.x-u29.x,vv0.y-u29.y))*1.,b-=texture2D(u0,vec2(vv0.x,vv0.y-u29.y))*2.,b-=texture2D(u0,vec2(vv0.x+u29.x,vv0.y-u29.y))*1.,b+=texture2D(u0,vec2(vv0.x-u29.x,vv0.y+u29.y))*1.,b+=texture2D(u0,vec2(vv0.x,vv0.y+u29.y))*2.,b+=texture2D(u0,vec2(vv0.x+u29.x,vv0.y+u29.y))*1.;vec3 e=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 c=texture2D(u0,vv0),g=vec4(e,c.a);gl_FragColor=vec4(dot(g.rgb,f),dot(c.rgb,f),0.,1.);}",
g:["u0","u29"],h:a});h.X({id:"s54",name:"_",c:"uniform sampler2D u0;uniform vec2 u37;uniform float u38,u39,u40,u41;varying vec2 vv0;void main(){vec2 a=floor(vv0*u39);float d=a.x+a.y*u39,g=u39*u39;vec2 h=fract(vv0*u39),b=u40+h*(1.-2.*u40);float c=d/(g-1.),i=mix(u37.x,u37.y,c);vec2 j=b+i*vec2(1.,1./u41)*vec2(cos(u38),sin(u38));float f=texture2D(u0,j).r;gl_FragColor=vec4(f,b,c);}",g:"u0 u37 u38 u39 u40 u41".split(" "),h:a});h.X({id:"s55",name:"_",c:"uniform sampler2D u0;uniform vec2 u9,u42;varying vec2 vv0;void main(){vec4 a=vec4(0.,0.,0.,0.),b;float e;vec2 f=vv0-u9*2.;for(float c=0.;c<3.9;c+=1.)for(float d=0.;d<3.9;d+=1.)b=texture2D(u0,f+u9*vec2(c,d)),e=step(a.r,b.r),a=mix(a,b,e);gl_FragColor=a;}",
g:["u0","u9","u42"],h:a});h.X({id:"s56",name:"_",c:"uniform sampler2D u0;uniform vec2 u43;uniform float u44;const vec4 f=vec4(0.,1.,0.,1.);varying vec2 vv0;void main(){float a=step(abs(distance(vv0,u43)-u44),1e-3);gl_FragColor=mix(texture2D(u0,vv0),f,a);}",g:["u0","u43","u44"],h:a});b=!0},oe:function(a){b||e.l();h.set("s53");h.C("u29",.5/a.o(),.5/a.R());a.b(0);J.f(!1,!1)},tc:function(a){h.set("s56");h.T("u43",a.j);h.m("u44",a.B);J.f(!1,!1)},a:function(d){b||e.l();var f="undefined"===typeof d.Yc?8:
d.Yc,g=d.width,l=d.Za,u=[Math.floor(l[0]*g),Math.ceil(l[1]*g)],y=g-2*u[1],v=d.Gb?d.Gb:8,w=Math.ceil(("undefined"===typeof d.Mb?1:d.Mb)*g);y=Math.min(y,2*w);var A=Math.max(u[1],g/2-w)/g,z="undefined"===typeof d.da?1:d.da,E=Y.a({isFloat:!0,isPot:!1,isLinear:!1,isFlipY:!1,width:y*f}),C=1/v,aa=Math.ceil(Math.log(E.o())/Math.log(4));d=E.o();var ba=Array(aa);for(g=0;g<aa;++g)ba[g]=Y.a({isFloat:!0,isPot:!1,isLinear:!1,isFlipY:!1,width:Math.ceil(d/Math.pow(4,g+1))});var S=new Uint8Array(4),T={B:-1,j:[0,0],
da:z};return{dd:function(a){z=a},ba:function(b){b.b(0);E.i();c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);c.enable(c.BLEND);c.blendFunc(c.CONSTANT_ALPHA,c.ONE);c.blendColor(C,C,C,C);h.set("s54");h.T("u37",l);h.m("u39",f);h.m("u40",A);h.m("u41",z);b=0;for(var d;b<v;++b)d=2*b*Math.PI/v,h.m("u38",d),J.f(!1,!1);c.disable(c.BLEND);h.set("s55");E.b(0);b=0;d=E.o();for(var e;b<aa;++b)ba[b].i(),e=ba[b].o(),h.C("u42",e,e),h.C("u9",1/d,1/d),J.f(!1,!1),ba[b].b(0),d=e;a(S);T.j[0]=S[1]/255;T.j[1]=S[2]/255;
T.B=l[0]+(l[1]-l[0])*S[3]/255;T.da=z;return T}}},Kc:function(){f=Y.a({width:256,height:1,isFloat:!0});g=Y.a({width:1,isFloat:!1});var a={u0:0};h.X({id:"s57",name:"_",c:"uniform sampler2D u0;uniform vec2 u37,u43;varying vec2 vv0;void main(){float e=mix(u37.x,u37.y,vv0.x),b=0.,a=0.;vec2 c;for(float d=0.;d<51.;d+=1.)c=e*vec2(cos(a),sin(a)),b+=texture2D(u0,u43+c).r,a+=.123137;gl_FragColor=vec4(b/51.,0.,0.,1.);}",g:["u0","u37"],h:a});h.X({id:"s58",name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){float b=0.,c=0.,d=0.,e;for(float a=0.;a<255.9;a+=1.)d=texture2D(u0,vec2(a/255.,.5)).r,e=step(b,d),b=mix(b,d,e),c=mix(c,a,e);gl_FragColor=vec4(c/255.,0.,0.,1.);}",
g:["u0"],h:a});d=!0},Rd:function(b){d||e.Kc();var l="undefined"===typeof b.j?[0,0]:b.j,m="undefined"===typeof b.Za?[0,0]:b.Za,n=new Uint8Array(4),u={j:l,B:0};return{set:function(a,b){l[0]=a[0];l[1]=a[1];m[0]=b[0];m[1]=b[1]},ba:function(b){h.set("s57");h.T("u37",m);h.T("u43",l);f.i();b.b(0);J.f(!1,!1);h.set("s58");g.i();J.f(!1,!1);g.b(0);a(n);u.B=m[0]+(m[1]-m[0])*n[0]/255;return u}}}};return e}();function Za(a,b){a[b]=!0;a.setAttribute(b,"true")}
function $a(){var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4)))a=!0;return a}function ab(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function bb(){var a=navigator.userAgent.toLowerCase();return-1==a.indexOf("safari")||-1<a.indexOf("chrome")?!1:!0}function cb(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1}
function db(a){if(!a)return a;var b=!1;if(a.video){var d=function(a){var b={};"undefined"!==typeof a.min&&(b.min=a.min);"undefined"!==typeof a.max&&(b.max=a.max);"undefined"!==typeof a.ideal&&(b.ideal=a.ideal);return b};b={};"undefined"!==typeof a.video.width&&(b.width=d(a.video.width));"undefined"!==typeof a.video.height&&(b.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(b.facingMode=a.video.facingMode)}b={audio:a.audio,video:b};"undefined"!==typeof a.deviceId&&(b.deviceId=a.deviceId);
return b}function eb(a){var b=a.video.width;a.video.width=a.video.height;a.video.height=b;return a}
function fb(a){function b(a){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(b,d){return Math.abs(b-a)-Math.abs(d-a)})}function d(b){f.push(b(db(a)))}var f=[];if(!a||!a.video)return f;if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal)for(var g=b(a.video.width.ideal).slice(0,3),e=b(a.video.height.ideal).slice(0,3),l=0,p;l<g.length;++l){p=g[l];for(var m=0,n;m<e.length;++m)if(n=e[m],p!==a.video.width.ideal||n!==a.video.height.ideal){var u=Math.max(p,
n)/Math.min(p,n);u<4/3-.1||u>16/9+.1||d(function(a){a.video.width.ideal=p;a.video.height.ideal=n;return a})}}d(function(a){return eb(a)})}a.video.facingMode&&(d(function(a){delete a.video.facingMode;return a}),a.video.width&&a.video.height&&d(function(a){eb(a);delete a.video.facingMode;return a}));a.video.width&&a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&d(function(a){delete a.video.width.ideal;delete a.video.height.ideal;return a}),d(function(a){delete a.video.width;delete a.video.height;
return a}));f.push({audio:a.audio,video:!0});return f}function gb(a){try{var b=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(f){b=window.innerHeight>window.innerWidth}if(b){b=a.video.width;var d=a.video.height;b.ideal&&d.ideal&&b.ideal>d.ideal&&(a.video.height=b,a.video.width=d)}}
function hb(a){a.volume=0;Za(a,"muted");if(bb()){if(1===a.volume){var b=function(){a.volume=0;window.removeEventListener("mousemove",b,!1);window.removeEventListener("touchstart",b,!1)};window.addEventListener("mousemove",b,!1);window.addEventListener("touchstart",b,!1)}setTimeout(function(){a.volume=0;Za(a,"muted")},5)}}
function ib(a,b,d,f){navigator.mediaDevices.getUserMedia(f).then(function(g){function e(){setTimeout(function(){if(a.currentTime){var e=a.videoWidth,f=a.videoHeight;0===e||0===f?d("VIDEO_NULLSIZE"):(e=a.videoWidth,f=a.videoHeight,e&&(a.style.width=e.toString()+"px"),f&&(a.style.height=f.toString()+"px"),ab()?(document.body.appendChild(a),hb(a),b(a,g),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right="0px";hb(a)},80)):b(a,g))}else d("VIDEO_NOTSTARTED")},
200)}"undefined"!==typeof a.srcObject?a.srcObject=g:(a.src=window.URL.createObjectURL(g),a.videoStream=g);hb(a);a.addEventListener("loadeddata",function(){var b=a.play();hb(a);"undefined"===typeof b?e():b.then(function(){e()}).catch(function(){d("VIDEO_PLAYPROMISEREJECTED")})},!1)}).catch(d)}
function jb(a,b,d){var f=cb()?document.createElement("video"):!1;f?cb()?(d&&d.video&&(ab()?gb(d):$a()&&gb(d),d.video.width&&d.video.width.ideal&&(f.style.width=d.video.width.ideal+"px"),d.video.height&&d.video.height.ideal&&(f.style.height=d.video.height.ideal+"px")),Za(f,"autoplay"),Za(f,"playsinline"),d&&d.audio?f.volume=0:Za(f,"muted"),ib(f,a,function(){function g(d){if(0===d.length)b("INVALID_FALLBACKCONSTRAINS");else{var e=d.shift();ib(f,a,function(){g(d)},e)}}var e=fb(d);g(e)},d)):b&&b("MEDIASTREAMAPI_NOTFOUND"):
b&&b("VIDEO_NOTPROVIDED")}
window.JEEPUPILAPI=function(){var a,b,d,f,g,e,l,p,m,n,u,y,v,w,A,z,E,C,aa,ba,S,T,U,X,K;function ma(){return{j:[.5,.5],scale:[1,1],K:!1,za:!1,qa:!1,bb:!1,H:{j:[.5,.5],B:0,da:1},ca:{j:[.5,.5],B:0}}}function ha(a){if(P!==I.pause){var b=P===I.play?Q.Ma:k.ec;Ca=setTimeout(N.bind(null,a),b)}}function da(){if(-1!==[I.play,I.$].indexOf(P))return!1;P=I.play;M.timestamp=Date.now();va&&window.cancelAnimationFrame(va);N(0)}function G(a,b,d,e){a=4*a+b;return d+(Da[a]/255+Da[a+8]/65025)*(e-d)}function N(){if(P!==
I.pause){h.wc();J.reset();J.Ba();c.disable(c.DEPTH_TEST);q.O();h.Ka();var F=t.element.currentTime-t.Ha;0>F&&(t.Ha=t.element.currentTime);1E3*F<k.nd||(t.K.refresh(),t.Ha+=F,h.set("s67"),t.ya.i(),t.K.b(0),J.f(!1,!1));for(F=0;F<M.oa;++F)Pa=F===M.oa-1,h.set("s68"),xa.i(),t.ya.b(0),za.b(1),J.f(!1,!1),xa.b(0),ta.P(!1,xa);F=Date.now();M.va=F-M.timestamp;var fa=k.Na;M.timestamp=F;M.Eb=M.Sc/M.va;M.Xa=M.Eb*fa+M.Xa*(1-fa);M.Fb=1E3/M.va;M.pa=M.Fb*k.Na+M.pa*(1-k.Na);M.pa>k.ga_[1]?(M.oa=Math.min(M.oa+1,k.Aa[1]),
M.pa=(k.ga_[0]+k.ga_[1])/2):M.pa<k.ga_[0]&&(M.oa=Math.max(M.oa-1,k.Aa[0]),M.pa=(k.ga_[0]+k.ga_[1])/2);M.nc=k.gc/Math.max(M.Xa,.001);q.L();c.viewport(0,0,2,2);h.set("s59");za.b(0);J.f(!1,!1);c.readPixels(0,0,2,2,c.RGBA,c.UNSIGNED_BYTE,Da);l=G(0,1,-1,1);p=G(0,2,-1,1);m=G(0,3,0,1);n=G(1,0,-k.ra[0],k.ra[0]);u=G(1,1,-k.ra[1],k.ra[1]);y=G(1,2,-k.ra[2],k.ra[2]);v=G(1,3,0,1);a=l-D.x;b=p-D.y;d=m-D.s;f=n-D.rx;g=u-D.ry;e=y-D.rz;F=Math.sqrt(a*a+b*b+d*d)/M.va;fa=Math.sqrt(f*f+g*g+e*e)/M.va;F=1-sa(k.lb[0],k.lb[1],F);
fa=1-sa(k.Lb[0],k.Lb[1],fa);fa=F*fa*sa(k.Kb[0],k.Kb[1],v);var w=Ea[++kb%Ea.length]=fa;for(F=0;F<Ea.length;++F)w=Math.min(w,Ea[F]);w=Math.max(.5,w);fa=Math.min(w,fa);F=la(k.gb[0],k.gb[1],1-Math.pow(fa,k.cc));D.x=la(D.x,l,F);D.y=la(D.y,p,F);D.s=la(D.s,m,F);D.rx=la(D.rx,n,F);D.ry=la(D.ry,u,F);D.rz=la(D.rz,y,F);D.detected=la(D.detected,v,k.bc);!H.na&&D.detected>k.nb+k.mb?H.na=!0:H.na&&D.detected<k.nb-k.mb&&(H.na=!1);if(H.na){q.O();F=D.x+k.vc*D.ry*D.s;fa=D.y+D.s*k.qb[1];var x=D.s*k.qb[0];w=D.s*k.Da[0];
var z=D.s*k.Da[1];w*=2*t.N[0];z*=2*t.N[1];F*=2*t.N[0];fa*=2*t.N[1];0<D.rx&&(fa*=Math.cos(k.zc*D.rx));var A=x;A=0>D.ry?A+Math.sin(D.ry)*k.Ca[0]:A-Math.sin(D.ry)*k.Ca[1];H.w[0].j[0]=F+A;H.w[0].j[1]=fa;H.w[0].scale[0]=w;H.w[0].scale[1]=z;x=0<D.ry?x-Math.sin(D.ry)*k.Ca[0]:x+Math.sin(D.ry)*k.Ca[1];H.w[1].j[0]=F-x;H.w[1].j[1]=fa;H.w[1].scale[0]=w;H.w[1].scale[1]=z;H.w.forEach(na)}q.ld();H.na&&(c.viewport(0,O/2,O/2,O/2),W(H.w[1]),c.viewport(O/2,O/2,O/2,O/2),W(H.w[0]),c.viewport(O/2,O/4,O/4,O/4),B(H.w[1]),
c.viewport(O/2+O/4,O/4,O/4,O/4),B(H.w[0]),c.viewport(0,0,O/2,O/2));h.set("s60");za.b(0);t.ya.b(1);J.f(!1,!1);Q.Pa&&(D.pupilLeftRadius=H.w[0].ca.B,D.pupilRightRadius=H.w[1].ca.B,Q.Pa(D));if(P===I.play||P===I.$)va=window.requestAnimationFrame(ha)}}function na(a){h.set("s61");h.T("u43",a.j);h.T("u6",a.scale);a.K.i();t.K.b(0);J.f(!1,!1);var b=Ia.ba(a.K);a.H.j[0]=la(a.H.j[0],b.j[0],k.Va);a.H.j[1]=la(a.H.j[1],b.j[1],k.Va);a.H.B=la(a.H.B,b.B,k.Va);a.H.da=b.da;h.set("s62");h.C("u43",a.j[0]+a.scale[0]*(2*
a.H.j[0]-1),a.j[1]+a.scale[1]*(2*a.H.j[1]-1));h.C("u6",2*a.H.B*a.scale[0],2*a.H.B*a.scale[1]);t.K.b(0);a.za.i();J.f(!1,!1);b=a.qa.o();var d=(k.S-b)/2;h.set("s63");h.C("u45",d/k.S,b/k.S);a.qa.i();a.za.b(0);J.f(!1,!1);Y.Ob(a.qa,Ja);q.O();var e,f,g=1E6,l=1E6,m=[.5,.5];for(f=0;f<b;++f)for(e=0;e<b;++e){var F=Ja[4*(e+f*b)];var n=(e-b/2)*(e-b/2)+(f-b/2)*(f-b/2);if(F<g||F===g&&n<l)g=F,l=n,m[0]=(e+d)/k.S,m[1]=(f+d)/k.S}a.ca.j[0]=m[0];a.ca.j[1]=m[1];h.set("s64");a.bb.i();a.za.b(0);h.T("u43",m);h.m("u46",ea);
J.f(!1,!1);Y.Ob(a.bb,Qa);q.O();b=0;for(d=Array(k.Ja);b<k.Ja;++b)d[b]=Qa[4*b]/255;d.sort();e=Math.round(d.length*k.Jb[0]);f=Math.round(d.length*k.Jb[1]);F=0;for(b=e;b<f;++b)F+=d[b];a.ca.B=F/(f-e)*k.Ya[1]}function W(a){a.K.b(0);h.set("s65");h.T("u43",a.H.j);h.m("u47",a.H.B);h.m("u48",a.H.da);J.f(!1,!1)}function B(a){a.za.b(0);h.set("s66");h.T("u43",a.ca.j);h.m("u49",a.ca.B);J.f(!1,!1)}function x(){t.ya=Y.a({isPot:!0,isMirror:!0,isLinear:!0,isFloat:!1,width:O,height:qa});xa=Y.a({isPot:!0,isFloat:!1,
width:ta.sb()});var F={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,k.borderWidth,k.borderHeight,0,0,0,0,0])};za=Ha.a(F);Da=new Uint8Array(8*F.width);p=l=v=0;m=1;y=u=n=0;D={detected:0,x:0,y:0,s:1,rx:0,ry:0,rz:0,pupilLeftRadius:0,pupilRightRadius:0};e=g=f=d=b=a=0;H.w.forEach(function(a){a.K=Y.a({isPot:!1,isLinear:!0,isFloat:!0,width:k.Ra,height:Math.round(k.Ra*k.Da[1]/k.Da[0])});a.za=Y.a({isPot:!0,isLinear:!0,isFloat:!0,isMipmap:!0,width:k.S});a.bb=Y.a({isPot:!1,isLinear:!1,isFloat:!1,
width:k.Ja,height:1});a.qa=Y.a({isPot:!1,isLinear:!1,isFloat:!1,width:Math.round(k.Wc*k.S)});Ja=new Uint8Array(a.qa.o()*a.qa.o()*4)})}function oa(){h.D("s68",[{type:"1i",name:"u0",value:0},{type:"1i",name:"u52",value:1},{type:"2f",name:"u53",value:ua}]);h.D("s69",[{type:"1i",name:"u54",value:0},{type:"1i",name:"u52",value:1},{type:"1f",name:"u57",value:k.minScaleTracked},{type:"1f",name:"u58",value:k.maxScaleTracked},{type:"1f",name:"u59",value:k.kd},{type:"1f",name:"u60",value:k.Zb},{type:"1f",name:"u61",
value:k.Yb},{type:"3f",name:"u56",value:[k.cb[0]*ua[0],k.cb[1]*ua[1],k.cb[2]]}]);h.D("s70",[{type:"1i",name:"u54",value:0}]);h.D("s59",[{type:"1i",name:"u52",value:0},{type:"1f",name:"u62",value:ua[0]}]);h.D("s60",[{type:"1i",name:"u52",value:0},{type:"1i",name:"u63",value:1},{type:"2f",name:"u53",value:ua}]);var a=[{type:"1i",name:"u0",value:0}];h.D("s61",a);h.D("s62",a);h.D("s63",[{type:"1f",name:"u65",value:k.Ya[1]},{type:"1f",name:"u29",value:1/k.S}].concat(a));h.D("s64",[{type:"1f",name:"u65",
value:k.Ya[1]},{type:"1f",name:"u29",value:1/k.S}].concat(a));h.D("s65",a);h.D("s66",a)}function ra(){var a=ta.sb(),b=O/a;E=k.minScale*b;C=k.maxScale*b;aa=(1-2*k.borderWidth)/k.nStepsX;ba=(1-2*k.borderHeight)/k.nStepsY;S=(C-E)/k.nStepsScale;T=k.borderWidth;U=k.borderHeight;X=1-k.borderWidth;K=1-k.borderHeight;ua=[a/O,a/qa];w=0;A=k.borderWidth;z=k.borderHeight;wa=E}function ia(a){pa(Q.fb+k.save,function(b){b=JSON.parse(b);a(b)})}function Z(){if(Ga.l({ua:Q.U,width:O,height:qa,debug:!1,Tc:function(){L("GLCONTEXT_LOST")},
antialias:!0,premultipliedAlpha:!0})){if(Ga.Mc())return!0;L("GL_INCOMPATIBLE");return!1}L("GL_INCOMPATIBLE");return!1}function ca(){za.ed(1);c.viewport(0,0,1,1);h.set("s69");h.gd("u55",A,z,wa);J.f(!1,!1);Pa&&(c.viewport(1,0,1,1),h.set("s70"),J.f(!1,!1));1!==++w%2&&(wa+=S,wa>C&&(A+=aa,wa=E,A>X&&(A=T,z+=ba,z>K&&(z=U))))}function ja(){h.D("s61",[{type:"2f",name:"u29",value:[1/t.ha[0],1/t.ha[1]]}]);h.D("s67",[{type:"1i",name:"u0",value:0},{type:"2f",name:"u50",value:t.N}])}function ka(){t.N[0]=.5;t.N[1]=
.5;var a=t.ha[1]/t.ha[0],b=Ga.R()/Ga.o();a>b?t.N[1]*=b/a:t.N[0]*=a/b}function V(a,b,d){a&&a();a={video:{width:{min:R.minWidth,max:R.maxWidth,ideal:R.idealWidth},height:{min:R.minHeight,max:R.maxHeight,ideal:R.idealHeight}},audio:!1};R.deviceId&&(a.deviceId=R.deviceId);jb(function(a){b&&b(a);d(a)},function(){L("WEBCAM_UNAVAILABLE")},a)}function L(a){P!==I.error&&(P=I.error,Q.ta&&Q.ta(a))}var k={save:"jeelizPupillometryNNC.json",dc:0,ec:25,Na:.2,ga_:[45,60],gc:1/3.5,Aa:[2,5],minScale:.3,
maxScale:.8,borderWidth:.2,borderHeight:.2,nStepsX:6,nStepsY:5,nStepsScale:3,cb:[.07,.07,.2],kd:60,minScaleTracked:.6,maxScaleTracked:5.8,Zb:.7,Yb:1,lb:[.001,.005],Lb:[.001,.005],Kb:[.55,.65],ra:[.65,1,.262],gb:[.2,1],bc:.2,cc:4,nb:.8,mb:.05,qb:[.25,.57],Da:[.22,.22],vc:.5,Ra:256,Ca:[0,0],zc:3,Wb:[.21,.24],Vb:40,Xb:.4,S:128,Va:1,Ya:[.3,.7],Ja:40,Wc:.1,Jb:[.7,.85],Xc:.025,nd:20},R={idealWidth:3264,idealHeight:2448,minWidth:1920,maxWidth:7680,minHeight:1080,maxHeight:4320,be:100},ea=k.Xc,H={na:!1,w:[ma(),
ma()]},I={Qc:-1,error:-2,wb:0,play:1,pause:2,$:3},P=I.wb,t={element:!1,K:!1,ya:!1,ha:[0,0],N:[.5,.5],Ha:0},Q={ta:!1,Pa:!1,fb:"./",U:!1,Ma:k.dc},ta;var wa=z=A=w=C=E=K=X=U=T=S=ba=aa=0;var O,qa,ua,xa,za,Da,D,Ca=!1,va=!1,Pa=!1,Ja,Qa=new Uint8Array(4*k.Ja),M={va:0,timestamp:0,Eb:0,Xa:0,oa:k.Aa[0],Sc:k.Aa[0],Fb:0,pa:0,nc:1},Ea=new Float32Array(12),kb=0,Ia,Ra={init:function(a){function b(){P!==I.error&&2===++d&&(ka(),t.K=Y.a({J:t.element,isPot:!1,isFloat:!1,isFlipY:!0,isLinear:!0}),ja(),Q.ta&&(Q.ta(!1,{GL:c,
canvasElement:Q.U,videoTexture:t.ya.get()}),c.disable(c.BLEND)),da())}if(P!==I.wb)return a.callbackReady&&a.callbackReady("ALREADY_INITIALIZED"),!1;P=I.Qc;a.callbackReady&&(Q.ta=a.callbackReady);a.callbackTrack&&(Q.Pa=a.callbackTrack);"undefined"!==typeof a.animateDelay&&(Q.Ma=a.animateDelay);"undefined"!==typeof a.NNCpath&&(Q.fb=a.NNCpath);if(!a.canvasId)return L("NO_CANVASID"),!1;Q.U=document.getElementById(a.canvasId);if(!Q.U)return L("INVALID_CANVASID"),!1;O=Q.U.width;qa=Q.U.height;if(!O||!qa)return L("INVALID_CANVASDIMENSIONS"),
!1;var d=0;V(a.onWebcamAsk,a.onWebcamGet,function(a){if(P!==I.error){var d=a.videoHeight;t.ha[0]=a.videoWidth;t.ha[1]=d;t.element=a;b&&b()}});ia(function(a){if(!Z())return!1;ta=new Xa;ta.$c(a.layers);ta.bd({Hb:"gpuRawAvg",Uc:ca});h.ac([{id:"s67",name:"_",W:"attribute vec2 a0;uniform vec2 u50;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u50*a0;}",fa:["a0"],Y:[2],c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",g:["u0","u50"],precision:"lowp"},
{id:"s68",name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",W:"attribute vec2 a0;uniform sampler2D u52;uniform vec2 u53;varying vec2 vv0;void main(){vec4 a=texture2D(u52,vec2(.17,.5));vec2 b=a.gb,c=a.a*u53;vv0=b+a0*.5*c,gl_Position=vec4(a0,0.,1.);}",fa:["a0"],Y:[2],g:["u0","u52","u53"],precision:"lowp"},{id:"s69",name:"_",c:"uniform sampler2D u54,u52;uniform vec3 u55,u56;uniform float u57,u58,u59,u60,u61;const vec4 k=vec4(1.,1.,1.,1.),l=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);void main(){vec4 c=texture2D(u54,vec2(.5,.5)),d=texture2D(u54,vec2(.75,.5));float g=dot(e,texture2D(u54,vec2(.75,.75))),h=dot(e,texture2D(u54,vec2(0.,.5))),i=dot(e,texture2D(u54,vec2(.25,.5)));vec4 a=texture2D(u52,vec2(.25,.5));float b=dot(c,e),j=dot(d,e);bool f=b>u60&&b>j+u61;f?a.r=2.:a.r>u59?a.r=0.:a.r>1.9&&(a.a>u58||a.a<u57)?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u55);else a.r*=step(1.9,a.r),a.gba+=vec3(g,h,i)*u56*a.a;gl_FragColor=a;}",
W:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"u54 u52 u55 u57 u58 u59 u56 u60 u61".split(" ")},{id:"s70",name:"_",W:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",c:"uniform sampler2D u54;const vec4 e=vec4(.25,.25,.25,.25);const vec3 g=vec3(.5,.5,.5);void main(){float a=dot(e,texture2D(u54,vec2(0.,.75))),b=dot(e,texture2D(u54,vec2(.25,.75))),c=dot(e,texture2D(u54,vec2(.5,.75))),d=dot(e,texture2D(u54,vec2(.5,.5)));vec3 f=vec3(a,b,c)*.5+g;gl_FragColor=vec4(f,d);}",
g:["u54"]},{id:"s59",name:"_",c:"uniform sampler2D u52;uniform float u62;varying vec2 vv0;void main(){float g=step(.5,vv0.y),c=step(.5,vv0.x);vec4 a=texture2D(u52,vec2(vv0.x,.5));a.a=mix(a.a*u62,a.a,c);vec4 d=floor(255.*a),f=255.*(255.*a-d),b=mix(d,f,g)/255.;b.x=mix(step(a.x,1.5),b.x,c),gl_FragColor=b;}",g:["u52","u62"]},{id:"s60",name:"_",c:"uniform sampler2D u52,u63;uniform vec2 u53;varying vec2 vv0;void main(){vec4 c=texture2D(u52,vec2(.25,.5));vec2 b=c.gb;float h=c.a;vec2 a=h*u53,i=b+a/2.,j=b-a/2.,d=step(j,vv0)*step(vv0,i);vec3 k=texture2D(u63,vv0).rgb;vec2 f=2.*abs(b-vv0)/a;float l=d.x*d.y*pow(max(f.x,f.y),3.);vec3 g=mix(k,vec3(0.,.6,1.),l);gl_FragColor=vec4(g,1.);}",
g:["u52","u63","u53"]},{id:"s61",name:"_",c:"varying vec2 vv0;uniform sampler2D u0;uniform vec2 u29;const vec3 f=vec3(.3333,.3333,.3333);void main(){vec3 a=vec3(0.);a-=texture2D(u0,vec2(vv0.x-u29.x,vv0.y-u29.y)).rgb*1.,a-=texture2D(u0,vec2(vv0.x-u29.x,vv0.y)).rgb*2.,a-=texture2D(u0,vec2(vv0.x-u29.x,vv0.y+u29.y)).rgb*1.,a+=texture2D(u0,vec2(vv0.x+u29.x,vv0.y-u29.y)).rgb*1.,a+=texture2D(u0,vec2(vv0.x+u29.x,vv0.y)).rgb*2.,a+=texture2D(u0,vec2(vv0.x+u29.x,vv0.y+u29.y)).rgb*1.;vec3 b=vec3(0.);b-=texture2D(u0,vec2(vv0.x-u29.x,vv0.y-u29.y)).rgb*1.,b-=texture2D(u0,vec2(vv0.x,vv0.y-u29.y)).rgb*2.,b-=texture2D(u0,vec2(vv0.x+u29.x,vv0.y-u29.y)).rgb*1.,b+=texture2D(u0,vec2(vv0.x-u29.x,vv0.y+u29.y)).rgb*1.,b+=texture2D(u0,vec2(vv0.x,vv0.y+u29.y)).rgb*2.,b+=texture2D(u0,vec2(vv0.x+u29.x,vv0.y+u29.y)).rgb*1.;vec3 e=a*a+b*b,h=texture2D(u0,vv0).rgb;float c=dot(e,f),g=dot(h,f);c=smoothstep(.1,.3,c),gl_FragColor=vec4(c,g,0.,1.);}",
W:"attribute vec2 a0;uniform vec2 u6,u43;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u43+u6*a0,vv0=.5*vv0+vec2(.5,.5);}",fa:["a0"],Y:[2],g:["u0","u6","u43","u29"]},{id:"s62",name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",W:"attribute vec2 a0;uniform vec2 u6,u43;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u43+u6*a0,vv0=.5*vv0+vec2(.5,.5);}",fa:["a0"],Y:[2],g:["u0","u6","u43"]},{id:"s63",name:"_",c:"uniform sampler2D u0;uniform vec2 u45;uniform float u65,u29;varying vec2 vv0;const float q=3.141592;const int k=2;int h(vec2 a,vec3 b){vec3 c=texture2D(u0,a).rgb;float d=distance(c,b);return int(step(d,.025));}float o(float d,vec2 i,vec3 c){float b=u65/32.;vec2 e=b*vec2(cos(d),sin(d));float f=0.,g=0.;int l=k,m=k;vec2 n,j;vec4 r,s;for(float a=0.;a<16.;a+=1.){if(l>0)n=i+a*e,l-=1-h(n,c),f+=b;if(m>0)j=i-a*e,m-=1-h(j,c),g+=b;}return g+f;}void main(){vec2 b=u45.x*vec2(1.,1.)+vv0*u45.y;vec3 a=texture2D(u0,b).rgb;float f=.3*(a.r+a.g+a.b-.015686);a=min(a,texture2D(u0,b+vec2(0.,u29)).rgb),a=min(a,texture2D(u0,b+vec2(0.,-u29)).rgb),a=min(a,texture2D(u0,b+vec2(u29,0.)).rgb),a=min(a,texture2D(u0,b+vec2(-u29,0.)).rgb);float e=0.;for(float c=0.;c<8.;c+=1.)e+=o(c*q/8.,b,a)/8.;float g=1./(.1+20.*e),d=f+g;gl_FragColor=vec4(d,d,d,1.);}",
g:["u0","u45","u65","u29"]},{id:"s64",name:"_",c:"varying vec2 vv0;uniform sampler2D u0;uniform vec2 u43;uniform float u65,u29,u46;const float n=3.141592;const int m=3;int k(vec2 a,vec3 b){vec3 c=texture2D(u0,a).rgb;float d=distance(c,b);return int(step(d,u46));}void main(){vec3 a=texture2D(u0,u43).rgb;a=min(a,texture2D(u0,u43+vec2(0.,u29)).rgb),a=min(a,texture2D(u0,u43+vec2(0.,-u29)).rgb),a=min(a,texture2D(u0,u43+vec2(u29,0.)).rgb),a=min(a,texture2D(u0,u43+vec2(-u29,0.)).rgb);float j=vv0.x*n,c=u65/64.;vec2 d=c*vec2(cos(j),sin(j));float h=0.,e=0.;int i=m,f=m;vec2 l,g;vec4 q,r;for(float b=0.;b<32.;b+=1.){if(i>0)l=u43+b*d,i-=1-k(l,a),h+=c;if(f>0)g=u43-b*d,f-=1-k(g,a),e+=c;}float p=h+e;gl_FragColor=vec4(p,0.,0.,1.);}",
g:["u0","u43","u65","u29","u46"]},{id:"s65",name:"_",c:"uniform sampler2D u0;uniform vec2 u43;uniform float u47,u48;const vec3 g=vec3(0.,1.,0.);varying vec2 vv0;void main(){vec2 b=vec2(1.,u48);float d=distance(vv0*b,u43*b),f=step(abs(d-u47),1e-3);vec3 c=texture2D(u0,vv0).rgb,a=c.g*vec3(1.,1.,1.);a.r+=c.r,a=mix(a,g,f),gl_FragColor=vec4(a,1.);}",g:["u0","u43","u47","u48"]},{id:"s66",name:"_",c:"uniform sampler2D u0;uniform vec2 u43;uniform float u49;const vec3 f=vec3(0.,1.,0.),g=vec3(0.,1.,0.);varying vec2 vv0;void main(){float b=step(abs(distance(vv0,u43)-u49),2e-3),c=step(distance(vv0,u43),4e-3);vec3 d=texture2D(u0,vv0).rgb,a=d;a=mix(a,f,b),a=mix(a,g,c),gl_FragColor=vec4(a,1.);}",
g:["u0","u43","u49"]}]);x();Ia=Ya.a({width:k.Ra,Za:k.Wb,Gb:k.Vb,Mb:k.Xb});ra();oa();b();Ra.update_controls()});return!0},toggle_pause:function(a){if(-1!==[I.play,I.pause,I.$].indexOf(P))return a?-1===[I.play,I.$].indexOf(P)?a=!1:(Ca&&(clearTimeout(Ca),Ca=!1),va&&(window.cancelAnimationFrame(va),va=!1),P=I.pause,a=!0):a=da(),a},toggle_slow:function(a){-1!==[I.play,I.pause,I.$].indexOf(P)&&-1!==[I.play,I.$].indexOf(P)&&(P=a?I.$:I.play)},set_animateDelay:function(a){Q.Ma=a},resize:function(){var a=Q.U.width,
b=Q.U.height;if(a===O&&b===qa)return!1;O=a;qa=b;ra();oa();ka();ja();return!0},update_controls:function(){function a(a){return(a=document.getElementById(a))?parseFloat(a.value):!1}var b=a("jeePupilControlIrisRoundness");!1!==b&&Ia.dd(b);b=a("jeePupilControlPupilSensitivity");!1!==b&&(ea=b)}};return Ra}();
;return JEEPUPILAPI;})();